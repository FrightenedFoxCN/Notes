
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://frightenedfoxcn.github.io/notes/miscellany/bouceux-informal-topos/04logic/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>第四讲 拓扑斯的内逻辑 - FFox's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../../css/svg.css">
    
      <link rel="stylesheet" href="../../../css/timeline.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/stylesheet.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="FFox&#39;s Notes" class="md-header__button md-logo" aria-label="FFox's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FFox's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第四讲 拓扑斯的内逻辑
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../series/" class="md-tabs__link">
        Series
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Miscellany
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../qnotes/" class="md-tabs__link">
        Quick Notes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../dnotes/" class="md-tabs__link">
        Daily Notes
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FFox&#39;s Notes" class="md-nav__button md-logo" aria-label="FFox's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z"/></svg>

    </a>
    FFox's Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">Home</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        更新记录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../links/" class="md-nav__link">
        友链
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../todo/" class="md-nav__link">
        待办事项
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/">Series</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Series" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Series
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/">写给计算机系学生的代数</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="写给计算机系学生的代数" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          写给计算机系学生的代数
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/00/" class="md-nav__link">
        00 前言：关于代数、数学和计算科学
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" type="checkbox" id="__nav_2_2_3" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/01/">01 代数：古典之旅</a>
          
            <label for="__nav_2_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="01 代数：古典之旅" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          01 代数：古典之旅
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3_2" type="checkbox" id="__nav_2_2_3_2" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/01/01/">1.1 太极：群之前的故事</a>
          
            <label for="__nav_2_2_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="1.1 太极：群之前的故事" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          1.1 太极：群之前的故事
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/01/01/" class="md-nav__link">
        1.1.1 结合性：半群
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3_3" type="checkbox" id="__nav_2_2_3_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/01/02/">1.2 乾坤：群论之初</a>
          
            <label for="__nav_2_2_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="1.2 乾坤：群论之初" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_3_3">
          <span class="md-nav__icon md-icon"></span>
          1.2 乾坤：群论之初
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/01/" class="md-nav__link">
        1.2.1 鸟迹：基本架构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/02/" class="md-nav__link">
        1.2.2 阶：从 Lagrange 到 Sylow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/01/02/03/" class="md-nav__link">
        1.2.3 扩张：从群构造群
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_4" type="checkbox" id="__nav_2_2_4" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/03/">03 无穷：拓扑学方法</a>
          
            <label for="__nav_2_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="03 无穷：拓扑学方法" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          03 无穷：拓扑学方法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_4_2" type="checkbox" id="__nav_2_2_4_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_4_2">
          3.1 对象：拓扑空间
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3.1 对象：拓扑空间" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_4_2">
          <span class="md-nav__icon md-icon"></span>
          3.1 对象：拓扑空间
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/03/01/01/" class="md-nav__link">
        3.1.1 定义：一次闪光
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_5" type="checkbox" id="__nav_2_2_5" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/04/">04 符号：范畴论的抽象废话</a>
          
            <label for="__nav_2_2_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="04 符号：范畴论的抽象废话" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          04 符号：范畴论的抽象废话
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_5_2" type="checkbox" id="__nav_2_2_5_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_5_2">
          4.1 导向：范畴、函子、自然变换
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4.1 导向：范畴、函子、自然变换" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_5_2">
          <span class="md-nav__icon md-icon"></span>
          4.1 导向：范畴、函子、自然变换
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/index.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/01/" class="md-nav__link">
        4.1.1 宏观：基本定义
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/04/01/02/" class="md-nav__link">
        4.1.2 中观：描述性质
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_6" type="checkbox" id="__nav_2_2_6" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../series/alg-for-cs/solution/">参考答案</a>
          
            <label for="__nav_2_2_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="参考答案" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          参考答案
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../series/alg-for-cs/solution/01/02/01/" class="md-nav__link">
        1.2.1 鸟迹：基本架构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Miscellany</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Miscellany" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Miscellany
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Francis Bouceux - Some flavours of topos theory</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Francis Bouceux - Some flavours of topos theory" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Francis Bouceux - Some flavours of topos theory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01sheaf/" class="md-nav__link">
        第一讲 层拓扑斯
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          第四讲 拓扑斯的内逻辑
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        第四讲 拓扑斯的内逻辑
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 拓扑斯的语言
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-realization" class="md-nav__link">
    4.2 项和公式的实现（realization）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    4.3 拓扑斯中的命题逻辑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    4.4 拓扑斯中的谓词逻辑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    4.5 拓扑斯的结构，用其内语言描述
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    4.6 内极限和余极限
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06refs/" class="md-nav__link">
        参考文献
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../qnotes/">Quick Notes</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Quick Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Quick Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/theorem_proving_in_lean_4/" class="md-nav__link">
        Theorem Proving in Lean 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../qnotes/computer_vision/">Computer Vision</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Computer Vision" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Computer Vision
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/01%20Image%20Formation/" class="md-nav__link">
        01 Image Formation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/03%20Image%20Matching%20%26%20Motion%20Estimation/" class="md-nav__link">
        03 Image Matching & Motion Estimation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/05%20Structure%20from%20Motion/" class="md-nav__link">
        05 Structure from Motion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/06%20Depth%20Estimation%20%26%20Dense%20Reconstruction/" class="md-nav__link">
        06 Depth Estimation & Dense Reconstruction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/07%20Recognition/" class="md-nav__link">
        07 Recognition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/08%203D%20Deep%20Learning/" class="md-nav__link">
        08 3D Deep Learning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/09%20Computational%20Photography/" class="md-nav__link">
        09 Computational Photography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../qnotes/computer_vision/10%20Image-based%20Rendering/" class="md-nav__link">
        10 Image-based Rendering
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../dnotes/">Daily Notes</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Daily Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Daily Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0714monad/" class="md-nav__link">
        7/14 单子论和 Beck 单子性定理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0715birkhoff_duality/" class="md-nav__link">
        7/15 格论和 Birkhoff 对偶
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0716locale_frame/" class="md-nav__link">
        7/16 用格论研究拓扑空间：Locale and Frame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dnotes/0801coq/" class="md-nav__link">
        8/1 一个简单的 Coq 车祸课程：一阶逻辑
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 拓扑斯的语言
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-realization" class="md-nav__link">
    4.2 项和公式的实现（realization）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    4.3 拓扑斯中的命题逻辑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    4.4 拓扑斯中的谓词逻辑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    4.5 拓扑斯的结构，用其内语言描述
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    4.6 内极限和余极限
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="_1">第四讲 拓扑斯的内逻辑<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"/></svg></span> 约 8444 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3L12.5 13Z"/></svg></span> 预计阅读时间 28 分钟</p>
</div>
<p>在本节课中我们谈及的拓扑斯都指初等拓扑斯，除非特别指明。</p>
<h2 id="41">4.1 拓扑斯的语言<a class="headerlink" href="#41" title="Permanent link">&para;</a></h2>
<p>如果你想要研究实数域，你首先需要处理具体的数，例如 <span class="arithmatex">\(5\)</span>，<span class="arithmatex">\(\frac 2 3\)</span>，<span class="arithmatex">\(\pi\)</span>，<span class="arithmatex">\(\sqrt 2\)</span> 等等。我们将它们称为类型 <span class="arithmatex">\(\R\)</span> 的常元（constants of type <span class="arithmatex">\(\R\)</span>）：因此，这样的常量的个数与实数的个数相同。但是，你也需要处理类似这样的公式：</p>
<div class="arithmatex">\[
a \times (b + c) = (a \times b) + (a \times c)
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span> 表示任意的、未指明的实数。我们称 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span> 为类型 <span class="arithmatex">\(\R\)</span> 的变元（variables of type <span class="arithmatex">\(\R\)</span>）。因为你能写下的一个公式是一个符号组成的有限序列，你每次只需要有限个（当然，可能非常多个）这样的变量……因此，想要写下所有关于实数的可能公式，一个可列的变量集完全够用。因此，变量的个数与 <span class="arithmatex">\(\R\)</span> 中元素的个数毫无关系。注意，哪怕你只想讨论单元素集，你也有可能用到两个不同的变量，例如下面的式子表示单元素集只有一个元素：</p>
<div class="arithmatex">\[
\forall x\ \forall y\ x = y
\]</div>
<p>一个拓扑斯的语言是你能使用的所有“良定的”（well-formed）符号串的集合：现在的问题就在于，抛却写下的东西的实际含义，怎么界定何为“良定”的符号串。例如，在英语中，你被允许使用字典中的所有单词，并用符合语法规则的方式将它们组合起来，因此 <em>The prolific fork mixes yellow mathematics.</em><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> 也是一个完全良定的英语句子。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.1</p>
<p>考虑拓扑斯 <span class="arithmatex">\(\mathcal E\)</span>，对每个元素 <span class="arithmatex">\(A \in \mathcal E\)</span> 它的语言给定：</p>
<ul>
<li>对每个箭头 <span class="arithmatex">\(1 \to A\)</span>，一个符号，称为一个类型 <span class="arithmatex">\(A\)</span> 的常元。</li>
<li>一个符号组成的可列集，称为类型 <span class="arithmatex">\(A\)</span> 的变元。</li>
</ul>
<p>以及各种由它们组成的形式表达式，叫做项（term）和公式（formula），见下面的定义 4.2 和 4.3。</p>
</div>
<p>从现在开始，我们可以直觉地将类型 <span class="arithmatex">\(A\)</span> 的常元和变元（更广泛的，所有类型 <span class="arithmatex">\(A\)</span> 的项，如 4.2 所述）视作 <span class="arithmatex">\(A\)</span> 的形式内元素。我们说这是形式的，是因为直到现在为止，它们只存在于我们的想象当中，它们（尚且）并不与拓扑斯中的任何对象或者箭头相对应。直觉地说，我们希望将拓扑斯的元素视作某种广义的集合。例如，在一个宇性拓扑斯中，层是某种带有“不同水平上”的元素的广义集合。准此原则，如果 <span class="arithmatex">\(A\)</span> 上面有，比方说，加法 <span class="arithmatex">\(+: A \times A \to A\)</span>，我们当然希望谈论形式内元素 <span class="arithmatex">\(a + b\)</span>，其中 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span> 为类型 <span class="arithmatex">\(A\)</span> 的变元或者常元。如果 <span class="arithmatex">\(f: A \to B\)</span> 是一个态射，我们希望能够谈论类型 <span class="arithmatex">\(B\)</span> 的形式内元素 <span class="arithmatex">\(f(a)\)</span>。以此类推。我们希望补充的这些额外的类型 <span class="arithmatex">\(A\)</span> 或者类型 <span class="arithmatex">\(B\)</span> 的形式元素被称为类型 <span class="arithmatex">\(A\)</span> 或者类型 <span class="arithmatex">\(B\)</span> 的项。定义 4.2 会递归地定义我们在一个拓扑斯中所能考虑的所有可能的项，也就是所有我们能想到的可行的直觉地表示形式内元素的形式表达式。</p>
<p>接下来，假定 <span class="arithmatex">\(A\)</span> 有一个内在的群结构，因此，加法是结合的，我们自然希望通过“对于所有类型 <span class="arithmatex">\(A\)</span> 的形式内元素 <span class="arithmatex">\(a\)</span>，<span class="arithmatex">\(b\)</span>，<span class="arithmatex">\(c\)</span>，都有 <span class="arithmatex">\((a + b) + c = a + (b + c)\)</span> 成立”来表达这种结合性。这样一个内部元素之间的形式表达式不再是一个形式元素了：它直觉地表达了包含 <span class="arithmatex">\(a + b\)</span>，<span class="arithmatex">\(b + c\)</span> 等等的项的某种形式上的性质。但是一个公式，直到现在，在拓扑斯中还毫无意义。定义 4.3 会递归地定义我们希望在一个拓扑斯内使用的所有公式。</p>
<p>另外，在公式中，我们还希望使用诸如 <span class="arithmatex">\(\wedge\)</span>，<span class="arithmatex">\(\vee\)</span>，<span class="arithmatex">\(\implies\)</span>，<span class="arithmatex">\(\exists a\)</span> 或者 <span class="arithmatex">\(\forall a\)</span> 等等的数学符号。类似于经典逻辑的说法，在 <span class="arithmatex">\(\exists a\)</span> 或者 <span class="arithmatex">\(\forall a\)</span> 这样的量词中出现的变元被称为受限变元（bound variable），不在量词中出现的变元被称为自由变元（free variable）。</p>
<p>在定义写下项和公式的定义之前，不妨再次回忆一下，在一个拓扑斯中，类型 <span class="arithmatex">\(\Omega^A\)</span> 的常元，即形如 <span class="arithmatex">\(1 \to \Omega^A\)</span> 的态射，与形如 <span class="arithmatex">\(A \to \Omega\)</span> 的态射之间是有一个双射的，因此，也与 <span class="arithmatex">\(A\)</span> 的子对象之间有一个双射。这样，<span class="arithmatex">\(\Omega^A\)</span> 在形式上应当被认为是“A 的子对象的对象”：一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的常元代表了 <span class="arithmatex">\(A\)</span> 的一个实际的子对象，一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的变元可以被认为代表了 <span class="arithmatex">\(A\)</span> 的一个形式内子对象。</p>
<p>为了避免下面这些定义的核心被一些不必要的关于自由变元的细节掩盖，我们在此省略了这些细节，读者可以参考文献 [4] 的定义 6.1.1，那里有更为精确的定义。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.2</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，内语言的项被递归地定义如下：</p>
<ol>
<li>类型 <span class="arithmatex">\(A\)</span> 的常元是类型 <span class="arithmatex">\(A\)</span> 的项；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变元是类型 <span class="arithmatex">\(A\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是类型 <span class="arithmatex">\(A\)</span> 的项，<span class="arithmatex">\(f: A \to B\)</span> 是 <span class="arithmatex">\(\mathcal E\)</span> 中的一个态射，那么 <span class="arithmatex">\(f(\tau)\)</span> 是一个类型 <span class="arithmatex">\(B\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau_1, \cdots, \tau_n\)</span> 分别为类型 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的项，那么 <span class="arithmatex">\((\tau_1, \cdots, \tau_n)\)</span> 是类型 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 的项；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是一个类型 <span class="arithmatex">\(A\)</span> 的项，带有类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>；<span class="arithmatex">\(\sigma_1, \cdots, \sigma_n\)</span> 是类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的不含 <span class="arithmatex">\(\tau\)</span> 中的受限变元的项，则 <span class="arithmatex">\(\tau(\sigma_1, \cdots, \sigma_n)\)</span> 仍然是类型 <span class="arithmatex">\(A\)</span> 的一个项；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a_1, \cdots, a_n, b_1, \cdots, b_m\)</span> 的公式，类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n, B_1, \cdots, B_m\)</span>，则 <span class="arithmatex">\(\{(a_1, \cdots, a_n) | \varphi(a_1, \cdots, a_n, b_1, \cdots, b_m)\}\)</span> 是一个类型 <span class="arithmatex">\(\Omega^{A_1 \times \cdots \times A_n}\)</span> 的项。</li>
</ol>
</div>
<div class="admonition info">
<p class="admonition-title">定义 4.3</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，内语言的公式被递归地定义如下：</p>
<ol>
<li>符号 <span class="arithmatex">\(\mathsf{true}\)</span> 和 <span class="arithmatex">\(\mathsf{false}\)</span> 是公式；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 和 <span class="arithmatex">\(\sigma\)</span> 都是类型 <span class="arithmatex">\(A\)</span> 的项，那么 <span class="arithmatex">\(\tau = \sigma\)</span> 是一个公式；</li>
<li>如果 <span class="arithmatex">\(\tau\)</span> 是一个类型 <span class="arithmatex">\(A\)</span> 的项，<span class="arithmatex">\(\Sigma\)</span> 是一个类型 <span class="arithmatex">\(\Omega^A\)</span> 的项，那么 <span class="arithmatex">\(\tau \in Sigma\)</span> 是一个公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个公式，那么 <span class="arithmatex">\(\lnot \varphi\)</span> 也是一个公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 都是公式，那么 <span class="arithmatex">\(\varphi \wedge \psi\)</span>，<span class="arithmatex">\(\varphi \vee \psi\)</span> 和 <span class="arithmatex">\(\varphi \implies \psi\)</span> 都是公式；</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a, b_1, \cdots, b_n\)</span> 的公式，它们类型分别是 <span class="arithmatex">\(A, B_1, \cdots, B_n\)</span>，则 <span class="arithmatex">\(\exists a \varphi(a, b_1, \cdots, b_n)\)</span> 和 <span class="arithmatex">\(\forall a \varphi(a, b_1, \cdots, b_n)\)</span> 都是带有自由变元 <span class="arithmatex">\(b_1, \cdots b_n\)</span> 的公式。</li>
<li>如果 <span class="arithmatex">\(\varphi\)</span> 是一个带有自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式，类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span>，<span class="arithmatex">\(\sigma_1, \cdots, \sigma_n\)</span> 是类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的项，带有同为 <span class="arithmatex">\(b_1, \cdots, b_m\)</span>，类型分别为 <span class="arithmatex">\(B_1, \cdots, B_m\)</span> 的自由变元，则 <span class="arithmatex">\(\varphi(\sigma_1(b_1, \cdots, b_m), \cdots, \sigma_n(b_1, \cdots, b_m))\)</span> 是一个带有自由变元 <span class="arithmatex">\(b_1, \cdots, b_m\)</span> 的公式。</li>
</ol>
</div>
<p>注意，上面对于两个公式或者项具备相同自由变量的假设并不是什么真正意义上的限制，因为把某个给定变量当成一个公式或者项的自由变量并不会造成什么问题……哪怕它没有在那个公式或者项中显式出现。</p>
<p>当然，一如既往地，<span class="arithmatex">\(\exists !x\ \varphi(x)\)</span> 是下面的表达式的缩写：</p>
<div class="arithmatex">\[
(\exists x \ \varphi(x)) \wedge ((\varphi(y) \wedge \varphi(z)) \implies (y = z))
\]</div>
<p>换句话说，这一小节旨在表明，拓扑斯的语言事实上正是模仿了集合论的通常语言。但是直到现在为止，这只是一种填字游戏，你通过将一些形式符号并置在一起来构造句子（公式或者项）。但是只有那些在定义 4.2 和 4.3 中所述的“字典”和“语法”中的句子才是良定的，因此，诸如：</p>
<div class="arithmatex">\[
\exists a \ \forall b \ (\lnot(a = a)) \wedge (a = b)
\]</div>
<p>是我们语言中的一个完美（但愚蠢）的良定的句子……</p>
<h2 id="42-realization">4.2 项和公式的实现（realization）<a class="headerlink" href="#42-realization" title="Permanent link">&para;</a></h2>
<p>让我们回到实数的例子上来。给定有理数 <span class="arithmatex">\(a\)</span> 和自然数 <span class="arithmatex">\(b\)</span>，我们可以构造一个实数 <span class="arithmatex">\(b^{a\pi}\)</span>。用 4.1 节的话说，<span class="arithmatex">\(b^{a\pi}\)</span> 就是一个类型 <span class="arithmatex">\(\R\)</span> 的项，带有类型 <span class="arithmatex">\(\mathbb Q\)</span> 的变元 <span class="arithmatex">\(a\)</span> 和类型 <span class="arithmatex">\(\N\)</span> 的变元 <span class="arithmatex">\(b\)</span>。这样的一个项诱导了映射：</p>
<div class="arithmatex">\[
\mathbb Q \times \N \to \R, (a, b) \mapsto b^{a\pi}
\]</div>
<p>这个映射就是我们所谓的项 <span class="arithmatex">\(b^{a\pi}\)</span> 的实现。通过这个过程，我们将 <span class="arithmatex">\(\mathsf{Set}\)</span> 中类型 <span class="arithmatex">\(\R\)</span> 的一个形式的项和集合拓扑斯中的一个良定的态射联系了起来。</p>
<p>准此思路，对于一个拓扑斯中的每个形式的项，我们都可以分派一个实际的同态。对于每个类型 <span class="arithmatex">\(A\)</span> 的项 <span class="arithmatex">\(\tau\)</span>，其自由变元为类型分别是 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>，我们为其指派一个“实现”态射<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>：</p>
<div class="arithmatex">\[
\lceil \tau \rceil: A_1 \times \cdots \times A_n \to A
\]</div>
<p>同样的，定义依然是递归的。为了简短起见，我们直接继承定义 4.2 中的符号和计数：</p>
<div class="admonition info">
<p class="admonition-title">定义 4.4</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，继承定义 4.2 中的记号和标号，项 <span class="arithmatex">\(\tau\)</span> 的实现 <span class="arithmatex">\(\lceil \tau \rceil\)</span> 被递归地定义如下：</p>
<ol>
<li>常元的实现是它自身；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变元的实现是 <span class="arithmatex">\(A\)</span> 上的恒同态射；</li>
<li><span class="arithmatex">\(\lceil f(\tau) \rceil = f \circ \lceil \tau \rceil\)</span>；</li>
<li><span class="arithmatex">\(\lceil (\tau_1, \cdots, \tau_n) \rceil\)</span> 的实现是 <span class="arithmatex">\((\lceil \tau_1 \rceil, \cdots, \lceil \tau_n \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau(\sigma_1, \cdots, \sigma_n) \rceil = \lceil \tau \rceil \circ (\lceil \sigma_1 \rceil, \cdots, \lceil \sigma_n \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \{(a_1, \cdots, a_n) | \varphi\} \lceil\)</span> 是一个 <span class="arithmatex">\(B_1 \times \cdots \times B_m \to \Omega^{A_1 \times \cdots \times A_n}\)</span> 的态射，通过笛卡尔闭性（见定义 4.5）与 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 对应。</li>
</ol>
</div>
<p>接下来，让我们再次回到 <span class="arithmatex">\(\mathsf{Set}\)</span> 中的实数上来，考虑，例如，公式 <span class="arithmatex">\(a + b = c\)</span>，它有三个带有类型 <span class="arithmatex">\(\R\)</span> 的变元。这自然地给出了一个映射：</p>
<div class="arithmatex">\[
\R \times \R \times \R \to \{\mathsf{false}, \mathsf{true}\}
\]</div>
<p>将一个具体的实数三元组 <span class="arithmatex">\((a, b, c)\)</span> 映到 <span class="arithmatex">\(a + b = c\)</span> 的真值。这个映射是我们所谓的公式 <span class="arithmatex">\(a + b = c\)</span> 的真值表。如前所属，在集合拓扑斯中，<span class="arithmatex">\(\{\mathsf{false}, \mathsf{true}\}\)</span> 不过就是 <span class="arithmatex">\(\Omega\)</span>，我们的子对象分类子。被这个真值表分类出来的对象也就是满足 <span class="arithmatex">\(a + b = c\)</span> 的三元组所构成的集合。</p>
<p>我们已经多次发现，在一个宇性拓扑斯中，对象 <span class="arithmatex">\(\Omega\)</span> 在某种程度上扮演了“真值的对象”的角色。例如，考虑定义 2.3 中的 <span class="arithmatex">\(= : A \times A \to \Omega\)</span>，给定 <span class="arithmatex">\(A(u)\)</span> 中的 <span class="arithmatex">\(a, b\)</span>，元素 <span class="arithmatex">\(=_u(a, b)\)</span> 是 <span class="arithmatex">\(a = b\)</span> 的真值，是满足 <span class="arithmatex">\(a\)</span> 和 <span class="arithmatex">\(b\)</span> 相等的条件下的最高层级。态射 <span class="arithmatex">\(=\)</span> 因此也就是公式 <span class="arithmatex">\(a = b\)</span> 的某种“真值表”。以此类推，现在，我们要给每个带有类型 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式 <span class="arithmatex">\(\varphi\)</span> 一个“真值表”态射：</p>
<div class="arithmatex">\[
\lceil \varphi \rceil: A_1 \times \cdots A_n \to \Omega 
\]</div>
<p>被这个真值表分类的子对象 <span class="arithmatex">\([\varphi] \rightarrowtail A_1 \times \cdots \times A_n\)</span> 也可以被更明确地写成下面的形式：</p>
<div class="arithmatex">\[
\{(a_1, \cdots, a_n) | \varphi(a_1, \cdots a_n)\} \rightarrowtail A_1 \times \cdots \times A_n
\]</div>
<p>当然，这和定义 4.2 是一致的。</p>
<p>我们的定义依然是递归地进行的，这次不仅仅要诉诸定义 4.3 的符号和标号：</p>
<div class="admonition info">
<p class="admonition-title">定义 4.5</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，继承定义 4.3 的符号和编号，应用定义 2.5、定义 2.5、定理 2.23、定义 2.12 的各种构造，公式 <span class="arithmatex">\(\varphi\)</span> 的真值表 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 被递归地定义为：</p>
<ol>
<li><span class="arithmatex">\(\lceil \mathsf{true} \rceil = t\)</span>，<span class="arithmatex">\(\lceil \mathsf{false}\rceil = f\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau = \sigma \rceil = (=_A) \circ (\lceil \tau \rceil, \lceil \sigma \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \tau \in \Sigma \rceil\)</span> = <span class="arithmatex">\((\in_A) \circ (\lceil \tau \rceil, \lceil \Sigma \rceil)\)</span>；</li>
<li><span class="arithmatex">\(\lceil \lnot \varphi \rceil = \lnot \circ \lceil \varphi \rceil\)</span>；</li>
<li><span class="arithmatex">\(\lceil \varphi \wedge \psi \rceil = \wedge \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>，<span class="arithmatex">\(\lceil \varphi \vee \psi \rceil = \vee \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>，<span class="arithmatex">\(\lceil \varphi \implies \psi \rceil = (\implies) \circ (\lceil \varphi \rceil, \lceil \psi \rceil)\)</span>；</li>
<li>在 4.3.6 中，考虑投影 <span class="arithmatex">\(p: A \times B_1 \times \cdots \times B_n \to B_1 \times \cdots \times B_n\)</span> 和由 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 分类的子对象 <span class="arithmatex">\([\varphi] \rightarrowtail A \times B_1 \times \cdots \times B_n\)</span>，则 <span class="arithmatex">\(\lceil \exists a\ \varphi(a, b_1, \cdots, b_n) \rceil\)</span> 和 <span class="arithmatex">\(\lceil \forall a \ \varphi(a, b_1, \cdots, b_n) \rceil\)</span> 分别为 <span class="arithmatex">\(\exists_p [\varphi]\)</span> 和 <span class="arithmatex">\(\forall_p [\varphi]\)</span> 的特征态射；</li>
<li><span class="arithmatex">\(\lceil \varphi(\sigma_1, \cdots, \sigma_n) \rceil = \lceil \varphi \rceil \circ (\lceil \sigma_1 \rceil, \cdots, \lceil \sigma_n \rceil)\)</span>。</li>
</ol>
</div>
<p>当然，<span class="arithmatex">\(\mathsf{true}\)</span> 和 <span class="arithmatex">\(\mathsf{false}\)</span> 是没有自由变元的公式。如果把它们视作带有（未出现的）类型 <span class="arithmatex">\(A\)</span> 的自由变元 <span class="arithmatex">\(a\)</span> 的公式，对应的真值表可以被简单地写成：</p>
<div class="arithmatex">\[
\mathsf{true}: A \to \mathbf 1 \stackrel t \to \Omega, \quad \mathsf{false}: A \to \mathbf 1 \stackrel f \to \Omega
\]</div>
<p>在有可能造成混淆的情况下，将其记为 <span class="arithmatex">\(\mathsf{true}_A\)</span> 和 <span class="arithmatex">\(\mathsf{false}_A\)</span>。</p>
<p>最后，我们以一个显然但有用的观察作为这一节的尾声：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.6</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，考虑两个具备相同的类型为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的自由变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span>，将由 <span class="arithmatex">\(\lceil \varphi \rceil\)</span> 和 <span class="arithmatex">\(\lceil \psi \rceil\)</span> 分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 中的子对象分别记作 <span class="arithmatex">\([\varphi]\)</span> 和 <span class="arithmatex">\([\psi]\)</span>，则由</p>
<div class="arithmatex">\[
\lceil \mathsf{true} \rceil, \quad \lceil \mathsf{false} \rceil, \quad \lceil \varphi \wedge \psi \rceil, \quad \lceil \varphi \vee \psi \rceil, \quad \lceil \varphi \implies \psi \rceil, \quad \lceil \lnot \varphi \rceil
\]</div>
<p>所分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 中的子对象不外乎是其子对象规程的 Heyting 代数中的</p>
<div class="arithmatex">\[
A_1 \times \cdots \times A_n, \quad 0, \quad [\varphi] \wedge [\psi], \quad [\varphi] \vee [\psi], \quad [\varphi] \implies [\psi], \quad \lnot [\varphi]
\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>由定义直接得出。</p>
</details>
<h2 id="43">4.3 拓扑斯中的命题逻辑<a class="headerlink" href="#43" title="Permanent link">&para;</a></h2>
<p>下面我们需要说明，什么叫某个公式是真的，并且推断出拓扑斯的内逻辑中有效的推理规则。</p>
<div class="admonition info">
<p class="admonition-title">定义 4.7</p>
<p>（4.7）在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，设 <span class="arithmatex">\(\varphi\)</span> 是一个带有类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span> 的公式，我们说这个公式为真当且仅当 <span class="arithmatex">\(\lceil \varphi \rceil = \lceil \mathsf{true} \rceil\)</span>，记作 <span class="arithmatex">\(\models \varphi\)</span>。这也就是说，<span class="arithmatex">\(\lceil \varphi \rceil\)</span> 分类的子对象就是 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 本身。</p>
</div>
<div class="admonition success">
<p class="admonition-title">定理 4.8</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，直觉主义谓词逻辑的公理全部成立。也就是说，给定三个带有相同自由变元的公式 <span class="arithmatex">\(\varphi, \psi, \theta\)</span>，以下性质成立：</p>
<div class="arithmatex">\[\begin{aligned}
(P1) &amp; \models \varphi \implies (\psi \implies \varphi)\\
(P2) &amp; \models (\varphi \implies (\psi \implies \theta)) \implies ((\varphi \implies \psi) \implies (\varphi \implies \theta))\\
(P3) &amp; \models \varphi \implies (\psi \implies (\varphi \wedge \psi))\\
(P4) &amp; \models \varphi \wedge \psi \implies \varphi\\
(P5) &amp; \models \varphi \wedge \psi \implies \psi\\
(P6) &amp; \models \varphi \implies (\varphi \vee \psi)\\
(P7) &amp; \models \psi \implies (\varphi \vee \psi)\\
(P8) &amp; \models (\varphi \implies \theta) \implies ((\varphi \implies \theta) \implies ((\varphi \vee \psi) \implies \theta))\\
(P9) &amp; \models (\varphi \implies \psi) \implies ((\varphi \implies \lnot \psi) \implies \lnot \varphi)\\
(P10) &amp; \models \lnot \varphi \implies (\varphi \implies \psi)\\
(P11) &amp;\ 若\ \models \varphi\ 且 \ \models \varphi \implies \psi\ 则\ \models \psi\ \text{（肯定前件，modus ponens）}
\end{aligned}\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>假定 <span class="arithmatex">\(\varphi, \psi, \theta\)</span> 的自由变元为类型分别为 <span class="arithmatex">\(A_1, \cdots, A_n\)</span> 的变元 <span class="arithmatex">\(a_1, \cdots, a_n\)</span>。由定义 4.7 和命题 4.6，我们只要表明由这些公式分类的 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 的子对象就是 <span class="arithmatex">\(A_1 \times \cdots \times A_n\)</span> 自身。</p>
<p>事实上，<span class="arithmatex">\((P1)\)</span> 到 <span class="arithmatex">\((P11)\)</span> 在任意 Heyting 代数中都成立（见定义 2.17）。例如，如果 <span class="arithmatex">\(a, b\)</span> 是 Heyting 代数 <span class="arithmatex">\(H\)</span> 中的两个元素，证明 <span class="arithmatex">\((P1)\)</span> 就是要表明：</p>
<div class="arithmatex">\[
1 = (a \implies (b \implies a))
\]</div>
<p>当然，这也就等价于证明：</p>
<div class="arithmatex">\[
1 \leqslant (a \implies (b \implies a))
\]</div>
<p>即：</p>
<div class="arithmatex">\[
a = 1 \wedge a \leqslant b \implies a
\]</div>
<p>这进一步地等价于证明：</p>
<div class="arithmatex">\[
a \wedge b \leqslant a
\]</div>
<p>而这是显然的。</p>
</details>
<p>肯定前件规则是一条有效的公式之间的推断规则，它自己不是一个有效的公式。</p>
<p>参考文献 [4] 中的 6.7 节给出了一个从定理 4.8 可以导出的有效公式和推断规则的冗长列表。</p>
<p>下面的命题强调了它与经典逻辑的第一个重大区别；亦见例子 4.11。</p>
<div class="admonition success">
<p class="admonition-title">命题 4.9</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，令 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 为两个带有相同自由变元的公式：</p>
<ul>
<li>若 <span class="arithmatex">\(\models \varphi \wedge \psi\)</span>，则 <span class="arithmatex">\(\models \varphi\)</span> <strong>且</strong> <span class="arithmatex">\(\models \psi\)</span>；</li>
<li>但若 <span class="arithmatex">\(\models \varphi \vee \psi\)</span>，在通常情况下，<span class="arithmatex">\(\models \varphi\)</span> <strong>或</strong> <span class="arithmatex">\(\models \psi\)</span> 并不成立。</li>
</ul>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>与命题 4.8 的证明类似，也不妨考虑任意 Heyting 代数 <span class="arithmatex">\(H\)</span> 中的情形。给定 <span class="arithmatex">\(a, b \in H\)</span>，当然 <span class="arithmatex">\(a \wedge b = 1\)</span> 迫使 <span class="arithmatex">\(a = 1\)</span> 且 <span class="arithmatex">\(b = 1\)</span>；但是同样显然的是，<span class="arithmatex">\(a \vee b = 1\)</span> 并不意味着两个元素中一定有一个为 <span class="arithmatex">\(1\)</span>。</p>
</details>
<p>当然，还有另外一个与经典逻辑的重大不同：排中律</p>
<div class="arithmatex">\[
\models \varphi \vee \lnot \varphi
\]</div>
<p>在拓扑斯的内逻辑中不成立。回顾 3.3 节，排中律成立当且仅当拓扑斯是布尔的。</p>
<h2 id="44">4.4 拓扑斯中的谓词逻辑<a class="headerlink" href="#44" title="Permanent link">&para;</a></h2>
<p>下面我们考虑包含量词的额外逻辑规则</p>
<div class="admonition success">
<p class="admonition-title">定理 4.10</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，所有直觉主义谓词逻辑的公理也成立。明确地说，考虑两个带有相同自由变元的公式 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span>，以及项 <span class="arithmatex">\(\tau\)</span>，以下性质成立：</p>
<div class="arithmatex">\[\begin{aligned}
(P12) &amp; \models (\forall x\ (\varphi \implies \psi)) \implies ((\forall x \ \varphi) \implies \forall x \ \psi)\\
(P13) &amp; \models (\exists x\ (\varphi \implies \psi)) \implies ((\exists x \ \varphi) \implies \exists x \ \psi)\\
(P14) &amp; \models \varphi \implies (\forall x \ \varphi)\ 若\ x\ 不是\ \varphi\ 中的一个自由变元\\
(P15) &amp; \models (\exists x \ \varphi) \implies \varphi \ 若 \ x\ 不是 \ \varphi\ 中的一个自由变元\\
(P16) &amp; \models (\forall x \ \varphi) \implies \varphi(\tau) \ 若 \ \tau \ 中不含 \ \varphi\ 的受限变元\\
&amp; \text{ 而且 $\varphi(\tau)$ 是在 $\varphi$ 中将 $x$ 用 $\tau$ 替代的结果}\\
(P17) &amp; \models  \varphi(\tau) \implies (\forall x \ \varphi) \ 若 \ \tau \ 中不含 \ \varphi\ 的受限变元\\
&amp; \text{ 而且 $\varphi(\tau)$ 是在 $\varphi$ 中将 $x$ 用 $\tau$ 替代的结果}\\
(P18) &amp;\ 若 \ \models \varphi \ 则 \ \models \forall x \ \varphi
\end{aligned}\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>为了简化记号，考虑 <span class="arithmatex">\(\varphi\)</span> 和 <span class="arithmatex">\(\psi\)</span> 带有类型分别为 <span class="arithmatex">\(X\)</span> 和 <span class="arithmatex">\(A\)</span> 的自由变元 <span class="arithmatex">\(x\)</span> 和 <span class="arithmatex">\(a\)</span>。公式 <span class="arithmatex">\((P12)\)</span> 中有自由变元 <span class="arithmatex">\(a\)</span>，因此证明 <span class="arithmatex">\(P12\)</span> 就相当于证明在 <span class="arithmatex">\(A\)</span> 的子对象的 Heyting 代数中证明对应的结论。考虑投影 <span class="arithmatex">\(p: X \times A \to A\)</span>，回顾定理 2.9，我们需要证明：</p>
<div class="arithmatex">\[
A = [(\forall x\ (\varphi \implies \psi)) \implies ((\forall x \ \varphi) \implies (\forall x \ \psi))]
\]</div>
<p>也就是说：</p>
<div class="arithmatex">\[
A \leqslant [\forall x\ (\varphi \implies \psi)] \implies ([\forall x \ \varphi] \implies [\forall x\ \psi])
\]</div>
<p>根据 Heyting 代数中 <span class="arithmatex">\(\implies\)</span> 的定义，这相当于是说：</p>
<div class="arithmatex">\[
[\forall x \ (\varphi \implies \psi)] = A \wedge [\forall x \ \varphi \implies \psi] \leqslant ([\forall x\ \varphi] \implies [\forall x\ \psi])
\]</div>
<p>更进一步地：</p>
<div class="arithmatex">\[
[\forall x\ (\varphi \implies \psi)] \wedge [\forall x\ \varphi] \leqslant [\forall x \ \psi]
\]</div>
<p>再应用定理 2.9 给出的伴随对 <span class="arithmatex">\(p^{-1} \dashv \pi_p\)</span>，将其转化为：</p>
<div class="arithmatex">\[
p^{-1}([\forall x\ (\varphi \implies \psi)] \wedge [\forall x \ \varphi]) \leqslant [\psi]
\]</div>
<p>即：</p>
<div class="arithmatex">\[
p^{-1}[\forall x \ (\varphi \implies \psi)] \wedge p^{-1}[\forall x\ \varphi] \leqslant [\psi]
\]</div>
<p>伴随对 <span class="arithmatex">\(p^{-1} \dashv \pi_p\)</span> 的余单位表明，对于任意 <span class="arithmatex">\(A\)</span> 的子对象 <span class="arithmatex">\(S\)</span> 都有 <span class="arithmatex">\(p^{-1}\forall x(S) \leqslant S\)</span>。于是：</p>
<div class="arithmatex">\[
p^{-1}[\forall x \ (\varphi \implies \psi)] \wedge p^{-1}[\forall x\ \varphi] \leqslant [\varphi \implies \psi] \wedge [\varphi] = ([\varphi] \implies [\psi]) \wedge [\varphi] \leqslant [\psi]
\]</div>
<p>其它的性质的证明也是类似的。</p>
</details>
<p>同样的，在参考文献 [4] 的 6.8 节中，也有一长串能从定理 4.10 推出的有效公式列表。</p>
<p>接下来，我们用一个例子来表明在命题 4.9 中提到过的其与经典逻辑的不同。</p>
<div class="admonition info">
<p class="admonition-title">例 4.11</p>
<p>考虑实直线上的层拓扑斯。连续函数层（参见 1.2 节）满足以下命题：</p>
<div class="arithmatex">\[
\models (\exists g\ f \times g = 1) \vee (\exists g\ (1 - f) \times g = 1)
\]</div>
<p>但是以下两个命题均不成立：</p>
<div class="arithmatex">\[
\exists g\ f \times g = 1, \quad \exists g\ (1 - f) \times g = 1
\]</div>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>不妨假设 <span class="arithmatex">\(f\)</span> 为常元，即一个从 <span class="arithmatex">\(\R\)</span> 到 <span class="arithmatex">\(\R\)</span> 的连续函数。<span class="arithmatex">\(f\)</span> 为变元的证明也是类似的。</p>
<p>若存在 <span class="arithmatex">\(r \in \R\)</span> 使得 <span class="arithmatex">\(f(r) \neq 0\)</span>，则存在 <span class="arithmatex">\(r\)</span> 的一个开邻域 <span class="arithmatex">\(U_r\)</span> 其中 <span class="arithmatex">\(f(r')\)</span> 处处不为 <span class="arithmatex">\(0\)</span>。设 <span class="arithmatex">\(U\)</span> 是这种形式的 <span class="arithmatex">\(U_r\)</span> 的并，那么任意 <span class="arithmatex">\(r' \in U\)</span>，<span class="arithmatex">\(f(r') \neq 0\)</span>，因此在 <span class="arithmatex">\(U\)</span> 上只要取 <span class="arithmatex">\(g = \frac 1 f\)</span> 即可。</p>
<p>类似的，如果存在 <span class="arithmatex">\(r \in \R\)</span> 使得 <span class="arithmatex">\(f(r) \neq 1\)</span>，则存在 <span class="arithmatex">\(r\)</span> 的一个开邻域 <span class="arithmatex">\(V_r\)</span> 其中 <span class="arithmatex">\(f(r')\)</span> 处处不为 <span class="arithmatex">\(1\)</span>。取 <span class="arithmatex">\(V\)</span> 为 <span class="arithmatex">\(V_r\)</span> 的并，那么任意 <span class="arithmatex">\(r' \in V\)</span>，<span class="arithmatex">\(f(r') \neq 1\)</span>，因此在 <span class="arithmatex">\(V\)</span> 上只要取 <span class="arithmatex">\(g = \frac 1 {1 - f}\)</span> 即可。</p>
<p>显然，<span class="arithmatex">\(U \cup V = \R\)</span>，因此第一个命题成立。但是如果取一个有 <span class="arithmatex">\(f(r_1) = 0\)</span>，<span class="arithmatex">\(f(r_2) = 1\)</span> 的 <span class="arithmatex">\(f\)</span>，那么 <span class="arithmatex">\(\exists g\ f \times g = 1\)</span> 在 <span class="arithmatex">\(r_1\)</span> 的邻域不成立，<span class="arithmatex">\(\exists g\ (1 - f) \times g = 1\)</span> 在 <span class="arithmatex">\(r_2\)</span> 的邻域不成立，因此两者都不成立。</p>
</details>
<p>这个例子表明，在实直线上的层拓扑斯中，连续函数的层是一个“局部环”（local ring）：对于其中的任意元素 <span class="arithmatex">\(f\)</span>，<span class="arithmatex">\(f\)</span> 和 <span class="arithmatex">\(1 - f\)</span> 至少有一个是可逆的。这个例子也表明了存在量词的“局部性质”：元素 <span class="arithmatex">\(g\)</span> 在每个点的邻域都存在，但是通常全局的 <span class="arithmatex">\(g\)</span> 不存在。</p>
<h2 id="45">4.5 拓扑斯的结构，用其内语言描述<a class="headerlink" href="#45" title="Permanent link">&para;</a></h2>
<p>现在，我们的填字游戏进展到哪一步了？我们知道怎么构造合法的<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>项和公式；我们给它们指派了一个实际的箭头或者拓扑斯中的对象；我们也已经知道一个公式为真是什么意思了。好，现在我宣布，在我们的填字游戏中，你每次写出一个为真的公式，你就能赢得一块比利时巧克力<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>！哪怕你很喜欢比利时巧克力，恐怕你也并不乐意长时间这样玩下去。你真正感兴趣的，是去证明拓扑斯中的那些范畴论构造相关的定理：积、余等化子、指数，等等。至于形式化地玩弄前面给出来的那些规则，那是非常无聊的事，除非有时候它们在证明实际的范畴论性质时能派上用场。为了能够用这种填字游戏表示范畴论性质，我们还需要做一次翻译，把范畴论术语翻译成拓扑斯的内逻辑的说法。下面我们给出一些代表性（但并不完全）的范畴论术语的翻译：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.12</p>
<p>在拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，考虑：</p>
<ul>
<li>对象 <span class="arithmatex">\(A\)</span> 和 <span class="arithmatex">\(B\)</span>；</li>
<li>态射 <span class="arithmatex">\(f, g: A \rightrightarrows B\)</span> 和 <span class="arithmatex">\(h: B \to C\)</span>；</li>
<li>子对象 <span class="arithmatex">\(A_1 \rightarrowtail A\)</span>，<span class="arithmatex">\(A_2 \rightarrowtail A\)</span> 和 <span class="arithmatex">\(B' \rightarrowtail B\)</span>；</li>
<li>类型 <span class="arithmatex">\(A\)</span> 的变量 <span class="arithmatex">\(a, a'\)</span>，类型 <span class="arithmatex">\(B\)</span> 的变量 <span class="arithmatex">\(b\)</span> 和类型 <span class="arithmatex">\(C\)</span> 的变量 <span class="arithmatex">\(c\)</span>；</li>
</ul>
<p>以下性质成立：</p>
<ol>
<li><span class="arithmatex">\(f = g\)</span> 当且仅当 <span class="arithmatex">\(\models f(a) = g(a)\)</span>；</li>
<li><span class="arithmatex">\(f\)</span> 是一个单同态当且仅当 <span class="arithmatex">\(\models (f(a) = f(a')) \implies (a = a')\)</span>；</li>
<li><span class="arithmatex">\(f\)</span> 是一个满同态当且仅当 <span class="arithmatex">\(\models \exists a \ f(a) = b\)</span>；</li>
<li><span class="arithmatex">\(A_1 \cap A_2 = \{a | (a \in A_1) \wedge (a \in A_2)\}\)</span>；</li>
<li><span class="arithmatex">\(A_1 \cup A_2 = \{a | (a \in A_1) \vee (a \in A_2)\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Im}\ \Sigma_f(A_1) = \{b | \exists a((a \in A_1) \wedge (b = f(a)))\}\)</span>；</li>
<li><span class="arithmatex">\(\pi_f(A_1) = \{b | \forall a ((f(a) = b) \implies (a \in A_1))\}\)</span>；</li>
<li><span class="arithmatex">\(f^{-1}(B') = \{a | f(a) \in B'\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Im}\ (f) = \{b | \exists a\ f(a) = b\}\)</span>；</li>
<li><span class="arithmatex">\(\mathrm{Ker}\ (f, g) = \{a | f(a) = g(a)\}\)</span>；</li>
<li><span class="arithmatex">\(f \times_B h = \{(a, c) | f(a) = h(c)\}\)</span>，指 <span class="arithmatex">\(f\)</span> 和 <span class="arithmatex">\(h\)</span> 的拉回。</li>
</ol>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>我们先证明第一个命题。根据态射 <span class="arithmatex">\(=\)</span> 的定义，子对象 <span class="arithmatex">\([f(a) = g(a)]\)</span> 是 <span class="arithmatex">\(B\)</span> 沿 <span class="arithmatex">\((f, g)\)</span> 的对角线的原像，即等化子 <span class="arithmatex">\(\mathrm{Ker}\ (f, g)\)</span>。当然，<span class="arithmatex">\(\mathrm{Ker}\ (f, g) = A\)</span> 等价于 <span class="arithmatex">\(f = g\)</span>。</p>
<p>满射的情形也需要单独拿出来强调一下。由存在量词的定义，我们有如下交换图：</p>
<p><center><!-- This file was generated by dvisvgm 2.9.1 --><svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='201.51pt' height='72.01pt' viewBox='0 -72.01 201.51 72.01'><g id='page1'><g transform='matrix(1 0 0 -1 0 0)'><path d='M9.85222 64.85155C9.85222 65.20998 9.88222 65.31967 10.66909 65.31967H10.92815V65.62842C10.57941 65.59873 9.79253 65.59873 9.41409 65.59873C9.02534 65.59873 8.238468 65.59873 7.89003 65.62842V65.31967H8.14878C8.93566 65.31967 8.96566 65.20998 8.96566 64.85155V59.601859C8.96566 59.243422 8.93566 59.133734 8.14878 59.133734H7.89003V58.824984C8.238468 58.854984 9.02534 58.854984 9.40409 58.854984C9.79253 58.854984 10.57941 58.854984 10.92815 58.824984V59.133734H10.66909C9.88222 59.133734 9.85222 59.243422 9.85222 59.601859V64.85155ZM12.30308 62.25155V59.582172C12.30308 59.133734 12.1937 59.133734 11.5262 59.133734V58.824984C11.87495 58.834984 12.38276 58.854984 12.65183 58.854984C12.91089 58.854984 13.4287 58.834984 13.76745 58.824984V59.133734C13.09995 59.133734 12.99058 59.133734 12.99058 59.582172V61.41498C12.99058 62.45092 13.69776 63.00873 14.33526 63.00873C14.96276 63.00873 15.07245 62.47092 15.07245 61.90311V59.582172C15.07245 59.133734 14.96276 59.133734 14.29558 59.133734V58.824984C14.64401 58.834984 15.15214 58.854984 15.4212 58.854984C15.67995 58.854984 16.19808 58.834984 16.53683 58.824984V59.133734C15.86933 59.133734 15.75964 59.133734 15.75964 59.582172V61.41498C15.75964 62.45092 16.46683 63.00873 17.10464 63.00873C17.7321 63.00873 17.8415 62.47092 17.8415 61.90311V59.582172C17.8415 59.133734 17.7321 59.133734 17.06464 59.133734V58.824984C17.41339 58.834984 17.9212 58.854984 18.1903 58.854984C18.4493 58.854984 18.9671 58.834984 19.3059 58.824984V59.133734C18.7881 59.133734 18.539 59.133734 18.529 59.432484V61.3353C18.529 62.19186 18.529 62.50061 18.2203 62.85936C18.0806 63.02873 17.7518 63.2278 17.17433 63.2278C16.33745 63.2278 15.89933 62.6303 15.72995 62.25155C15.59026 63.11842 14.85339 63.2278 14.40495 63.2278C13.67776 63.2278 13.20964 62.79936 12.93089 62.18186V63.2278L11.5262 63.11842V62.80936C12.22339 62.80936 12.30308 62.73967 12.30308 62.25155Z'/><path d='M26.1064 56.43436C26.1064 56.46405 26.1064 56.48405 25.937 56.65342C24.692 57.908422 24.3732 59.791234 24.3732 61.3153C24.3732 63.04842 24.7517 64.78186 25.977 66.02686C26.1064 66.14655 26.1064 66.16655 26.1064 66.19623C26.1064 66.26592 26.0664 66.29592 26.0067 66.29592C25.907 66.29592 25.0107 65.61842 24.4229 64.35342C23.9148 63.2578 23.7954 62.15217 23.7954 61.3153C23.7954 60.53842 23.9048 59.333109 24.4529 58.207484C25.0504 56.98217 25.907 56.33467 26.0067 56.33467C26.0664 56.33467 26.1064 56.36467 26.1064 56.43436Z'/><path d='M30.35765 62.80936H31.21452C31.41359 62.80936 31.51327 62.80936 31.51327 63.00873C31.51327 63.11842 31.41359 63.11842 31.24421 63.11842H30.41765L30.62671 64.25373C30.66671 64.46311 30.80608 65.1703 30.86577 65.28967C30.95546 65.47905 31.12483 65.62842 31.3339 65.62842C31.3739 65.62842 31.63296 65.62842 31.82202 65.44905C31.3839 65.40936 31.28421 65.06061 31.28421 64.91123C31.28421 64.68217 31.46358 64.5628 31.65265 64.5628C31.91171 64.5628 32.20046 64.78186 32.20046 65.1603C32.20046 65.61842 31.74233 65.8478 31.3339 65.8478C30.99546 65.8478 30.36765 65.66842 30.0689 64.68217C30.00921 64.47311 29.97921 64.37342 29.74015 63.11842H29.05296C28.86358 63.11842 28.7539 63.11842 28.7539 62.92905C28.7539 62.80936 28.84358 62.80936 29.03296 62.80936H29.69046L28.94327 58.874672C28.7639 57.908422 28.59452 57.00217 28.07671 57.00217C28.03671 57.00217 27.78765 57.00217 27.598585 57.18123C28.05671 57.21123 28.1464 57.56998 28.1464 57.71936C28.1464 57.948422 27.96702 58.067797 27.77796 58.067797C27.518897 58.067797 27.229835 57.848734 27.229835 57.4703C27.229835 57.02186 27.668272 56.7828 28.07671 56.7828C28.62452 56.7828 29.02296 57.37061 29.20233 57.74905C29.52108 58.376859 29.75015 59.582172 29.76015 59.651859L30.35765 62.80936Z'/><path d='M35.53076 61.3153C35.53076 62.09217 35.42138 63.29748 34.87326 64.42311C34.27576 65.64842 33.418882 66.29592 33.319507 66.29592C33.259507 66.29592 33.219819 66.25592 33.219819 66.19623C33.219819 66.16655 33.219819 66.14655 33.409194 65.96717C34.38513 64.98092 34.95294 63.39717 34.95294 61.3153C34.95294 59.611859 34.58451 57.858734 33.349194 56.60373C33.219819 56.48405 33.219819 56.46405 33.219819 56.43436C33.219819 56.37467 33.259507 56.33467 33.319507 56.33467C33.418882 56.33467 34.31544 57.01217 34.90326 58.277172C35.41138 59.372797 35.53076 60.47842 35.53076 61.3153Z'/><path d='M80.92412 59.97061C80.52568 59.303109 80.137243 59.163734 79.698805 59.133734C79.57943 59.123734 79.489743 59.123734 79.489743 58.934672C79.489743 58.874672 79.53943 58.824984 79.619118 58.824984C79.88818 58.824984 80.19693 58.854984 80.47568 58.854984C80.80443 58.854984 81.15318 58.824984 81.47193 58.824984C81.53162 58.824984 81.6613 58.824984 81.6613 59.014359C81.6613 59.123734 81.57162 59.133734 81.50193 59.133734C81.27256 59.153734 81.03349 59.233422 81.03349 59.482484C81.03349 59.601859 81.09349 59.711547 81.17318 59.85092L81.93006 61.12592H84.43037C84.45037 60.91686 84.58974 59.562172 84.58974 59.462484C84.58974 59.163734 84.07193 59.133734 83.87255 59.133734C83.73318 59.133734 83.63349 59.133734 83.63349 58.934672C83.63349 58.824984 83.75318 58.824984 83.77287 58.824984C84.18131 58.824984 84.60974 58.854984 85.01818 58.854984C85.26724 58.854984 85.89474 58.824984 86.14381 58.824984C86.20349 58.824984 86.32318 58.824984 86.32318 59.024359C86.32318 59.133734 86.22349 59.133734 86.09381 59.133734C85.47631 59.133734 85.47631 59.203422 85.44631 59.492484L84.8388 65.71811C84.8188 65.91748 84.8188 65.95717 84.64943 65.95717C84.49005 65.95717 84.45037 65.88748 84.39068 65.7878L80.92412 59.97061ZM82.11943 61.43467L84.08162 64.72217L84.40037 61.43467H82.11943Z'/><path d='M140.93872 59.601859C140.83904 59.213422 140.81935 59.133734 140.032162 59.133734C139.8631 59.133734 139.763412 59.133734 139.763412 58.934672C139.763412 58.824984 139.8531 58.824984 140.032162 58.824984H143.58841C145.16247 58.824984 146.33779 60.0003 146.33779 60.97655C146.33779 61.69373 145.75998 62.27155 144.79372 62.38123C145.82966 62.5703 146.8756 63.30748 146.8756 64.25373C146.8756 64.99092 146.2181 65.62842 145.02279 65.62842H141.67591C141.48654 65.62842 141.38716 65.62842 141.38716 65.42936C141.38716 65.31967 141.47654 65.31967 141.66591 65.31967C141.68591 65.31967 141.87497 65.31967 142.04435 65.29967C142.22373 65.27998 142.31341 65.26998 142.31341 65.1403C142.31341 65.10061 142.30341 65.07061 142.27373 64.95123L140.93872 59.601859ZM142.44279 62.47092L143.0606 64.94123C143.15029 65.28967 143.16998 65.31967 143.59841 65.31967H144.88341C145.75998 65.31967 145.96904 64.73186 145.96904 64.29373C145.96904 63.41717 145.11248 62.47092 143.89716 62.47092H142.44279ZM141.99466 59.133734C141.85529 59.133734 141.83529 59.133734 141.7756 59.143734C141.67591 59.153734 141.64591 59.163734 141.64591 59.243422C141.64591 59.273109 141.64591 59.293109 141.69591 59.472484L142.3831 62.25155H144.26591C145.22216 62.25155 145.41123 61.51436 145.41123 61.08623C145.41123 60.09998 144.52466 59.133734 143.34935 59.133734H141.99466Z'/><path d='M194.05073 65.2003C194.05073 65.43936 194.05073 65.45905 193.82136 65.45905C193.20386 64.82155 192.32729 64.82155 192.008544 64.82155V64.5128C192.20761 64.5128 192.79542 64.5128 193.31354 64.77186V59.611859C193.31354 59.253422 193.28354 59.133734 192.38698 59.133734H192.068232V58.824984C192.41698 58.854984 193.28354 58.854984 193.68198 58.854984S194.94698 58.854984 195.29573 58.824984V59.133734H194.97698C194.08042 59.133734 194.05073 59.243422 194.05073 59.611859V65.2003Z'/><path d='M19.63471 7.137843C19.53502 6.749405 19.51534 6.669718 18.728149 6.669718C18.559086 6.669718 18.459399 6.669718 18.459399 6.470655C18.459399 6.360968 18.549086 6.360968 18.728149 6.360968H22.2844C23.85846 6.360968 25.03377 7.53628 25.03377 8.51253C25.03377 9.22972 24.45596 9.80753 23.48971 9.91722C24.52565 10.10628 25.57159 10.84347 25.57159 11.78972C25.57159 12.5269 24.91409 13.1644 23.71877 13.1644H20.3719C20.18252 13.1644 20.08315 13.1644 20.08315 12.96534C20.08315 12.85566 20.17252 12.85566 20.3619 12.85566C20.3819 12.85566 20.57096 12.85566 20.74034 12.83566C20.91971 12.81597 21.0094 12.80597 21.0094 12.67628C21.0094 12.63659 20.9994 12.60659 20.96971 12.48722L19.63471 7.137843ZM21.13877 10.00691L21.75659 12.47722C21.84627 12.82565 21.86596 12.85566 22.2944 12.85566H23.5794C24.45596 12.85566 24.66502 12.26784 24.66502 11.82972C24.66502 10.95315 23.80846 10.00691 22.59315 10.00691H21.13877ZM20.69065 6.669718C20.55127 6.669718 20.53127 6.669718 20.47159 6.679718C20.3719 6.689718 20.3419 6.699718 20.3419 6.779405C20.3419 6.809093 20.3419 6.829093 20.3919 7.008468L21.07909 9.78753H22.9619C23.91815 9.78753 24.10721 9.05034 24.10721 8.62222C24.10721 7.63597 23.22065 6.669718 22.04534 6.669718H20.69065Z'/><path d='M70.80711 7.50659C70.40868 6.839093 70.020239 6.699718 69.581801 6.669718C69.462426 6.659718 69.372739 6.659718 69.372739 6.470655C69.372739 6.410655 69.422426 6.360968 69.502114 6.360968C69.771176 6.360968 70.07993 6.390967 70.35868 6.390967C70.68743 6.390967 71.03618 6.360968 71.35493 6.360968C71.41461 6.360968 71.5443 6.360968 71.5443 6.550343C71.5443 6.659718 71.45461 6.669718 71.38493 6.669718C71.15555 6.689718 70.91649 6.769405 70.91649 7.018468C70.91649 7.137843 70.97649 7.24753 71.05618 7.38691L71.81305 8.6619H74.31336C74.33336 8.45284 74.47274 7.098155 74.47274 6.998468C74.47274 6.699718 73.95493 6.669718 73.75555 6.669718C73.61618 6.669718 73.51649 6.669718 73.51649 6.470655C73.51649 6.360968 73.63618 6.360968 73.65586 6.360968C74.0643 6.360968 74.49274 6.390967 74.90118 6.390967C75.15024 6.390967 75.77774 6.360968 76.0268 6.360968C76.08649 6.360968 76.20618 6.360968 76.20618 6.560343C76.20618 6.669718 76.10649 6.669718 75.9768 6.669718C75.3593 6.669718 75.3593 6.739405 75.3293 7.028468L74.7218 13.25409C74.7018 13.45347 74.7018 13.49315 74.53243 13.49315C74.37305 13.49315 74.33336 13.42347 74.27368 13.32378L70.80711 7.50659ZM72.00243 8.97066L73.96461 12.25815L74.28336 8.97066H72.00243Z'/><path d='M82.58502 9.13034L80.59283 11.11253C80.47314 11.2319 80.45314 11.2519 80.37346 11.2519C80.27408 11.2519 80.17439 11.16222 80.17439 11.05284C80.17439 10.98284 80.19439 10.96316 80.30377 10.85347L82.29596 8.85128L80.30377 6.849093C80.19439 6.739405 80.17439 6.719718 80.17439 6.649718C80.17439 6.540343 80.27408 6.450655 80.37346 6.450655C80.45314 6.450655 80.47314 6.470655 80.59283 6.59003L82.57502 8.57222L84.63689 6.510343C84.65689 6.500343 84.72658 6.450655 84.78627 6.450655C84.90596 6.450655 84.98564 6.540343 84.98564 6.649718C84.98564 6.669718 84.98564 6.709718 84.95564 6.759405C84.94564 6.779405 83.36189 8.34316 82.86377 8.85128L84.68689 10.67409C84.73658 10.73409 84.88596 10.86347 84.93564 10.92316C84.94564 10.94316 84.98564 10.98284 84.98564 11.05284C84.98564 11.16222 84.90596 11.2519 84.78627 11.2519C84.70658 11.2519 84.66689 11.21222 84.55721 11.10253L82.58502 9.13034Z'/><path d='M90.26673 7.137843C90.16704 6.749405 90.14735 6.669718 89.360165 6.669718C89.191102 6.669718 89.091415 6.669718 89.091415 6.470655C89.091415 6.360968 89.181102 6.360968 89.360165 6.360968H92.91641C94.49048 6.360968 95.66579 7.53628 95.66579 8.51253C95.66579 9.22972 95.08798 9.80753 94.12173 9.91722C95.15766 10.10628 96.2036 10.84347 96.2036 11.78972C96.2036 12.5269 95.5461 13.1644 94.35079 13.1644H91.00391C90.81454 13.1644 90.71516 13.1644 90.71516 12.96534C90.71516 12.85566 90.80454 12.85566 90.99391 12.85566C91.01391 12.85566 91.20298 12.85566 91.37235 12.83566C91.55173 12.81597 91.64142 12.80597 91.64142 12.67628C91.64142 12.63659 91.63142 12.60659 91.60173 12.48722L90.26673 7.137843ZM91.77079 10.00691L92.3886 12.47722C92.47829 12.82565 92.49798 12.85566 92.92642 12.85566H94.21141C95.08798 12.85566 95.29704 12.26784 95.29704 11.82972C95.29704 10.95315 94.44048 10.00691 93.22517 10.00691H91.77079ZM91.32266 6.669718C91.18329 6.669718 91.16329 6.669718 91.1036 6.679718C91.00391 6.689718 90.97392 6.699718 90.97392 6.779405C90.97392 6.809093 90.97392 6.829093 91.02391 7.008468L91.7111 9.78753H93.59392C94.55016 9.78753 94.73923 9.05034 94.73923 8.62222C94.73923 7.63597 93.85267 6.669718 92.67735 6.669718H91.32266Z'/><path d='M130.82172 7.137843C130.72203 6.749405 130.70235 6.669718 129.915159 6.669718C129.746096 6.669718 129.646409 6.669718 129.646409 6.470655C129.646409 6.360968 129.736096 6.360968 129.915159 6.360968H133.47141C135.04547 6.360968 136.22078 7.53628 136.22078 8.51253C136.22078 9.22972 135.64297 9.80753 134.67672 9.91722C135.71266 10.10628 136.7586 10.84347 136.7586 11.78972C136.7586 12.5269 136.1011 13.1644 134.90578 13.1644H131.55891C131.36953 13.1644 131.27016 13.1644 131.27016 12.96534C131.27016 12.85566 131.35953 12.85566 131.54891 12.85566C131.56891 12.85566 131.75797 12.85566 131.92735 12.83566C132.10672 12.81597 132.19641 12.80597 132.19641 12.67628C132.19641 12.63659 132.18641 12.60659 132.15672 12.48722L130.82172 7.137843ZM132.32578 10.00691L132.9436 12.47722C133.03328 12.82565 133.05297 12.85566 133.48141 12.85566H134.76641C135.64297 12.85566 135.85203 12.26784 135.85203 11.82972C135.85203 10.95315 134.99547 10.00691 133.78016 10.00691H132.32578ZM131.87766 6.669718C131.73828 6.669718 131.71828 6.669718 131.6586 6.679718C131.55891 6.689718 131.52891 6.699718 131.52891 6.779405C131.52891 6.809093 131.52891 6.829093 131.57891 7.008468L132.2661 9.78753H134.14891C135.10516 9.78753 135.29422 9.05034 135.29422 8.62222C135.29422 7.63597 134.40766 6.669718 133.23235 6.669718H131.87766Z'/><path d='M143.37296 9.13034L141.38077 11.11253C141.26109 11.2319 141.24109 11.2519 141.1614 11.2519C141.06202 11.2519 140.96234 11.16222 140.96234 11.05284C140.96234 10.98284 140.98234 10.96316 141.09171 10.85347L143.0839 8.85128L141.09171 6.849093C140.98234 6.739405 140.96234 6.719718 140.96234 6.649718C140.96234 6.540343 141.06202 6.450655 141.1614 6.450655C141.24109 6.450655 141.26109 6.470655 141.38077 6.59003L143.36296 8.57222L145.42484 6.510343C145.44484 6.500343 145.51452 6.450655 145.57421 6.450655C145.6939 6.450655 145.77359 6.540343 145.77359 6.649718C145.77359 6.669718 145.77359 6.709718 145.74359 6.759405C145.73359 6.779405 144.14984 8.34316 143.65171 8.85128L145.47484 10.67409C145.52452 10.73409 145.6739 10.86347 145.72359 10.92316C145.73359 10.94316 145.77359 10.98284 145.77359 11.05284C145.77359 11.16222 145.6939 11.2519 145.57421 11.2519C145.49452 11.2519 145.45484 11.21222 145.34515 11.10253L143.37296 9.13034Z'/><path d='M151.05475 7.137843C150.95506 6.749405 150.93537 6.669718 150.148186 6.669718C149.979124 6.669718 149.879436 6.669718 149.879436 6.470655C149.879436 6.360968 149.969124 6.360968 150.148186 6.360968H153.70444C155.2785 6.360968 156.45381 7.53628 156.45381 8.51253C156.45381 9.22972 155.876 9.80753 154.90975 9.91722C155.94569 10.10628 156.99162 10.84347 156.99162 11.78972C156.99162 12.5269 156.33412 13.1644 155.13881 13.1644H151.79194C151.60256 13.1644 151.50319 13.1644 151.50319 12.96534C151.50319 12.85566 151.59256 12.85566 151.78194 12.85566C151.80194 12.85566 151.991 12.85566 152.16037 12.83566C152.33975 12.81597 152.42944 12.80597 152.42944 12.67628C152.42944 12.63659 152.41944 12.60659 152.38975 12.48722L151.05475 7.137843ZM152.55881 10.00691L153.17662 12.47722C153.26631 12.82565 153.286 12.85566 153.71444 12.85566H154.99944C155.876 12.85566 156.08506 12.26784 156.08506 11.82972C156.08506 10.95315 155.2285 10.00691 154.01319 10.00691H152.55881ZM152.11069 6.669718C151.97131 6.669718 151.95131 6.669718 151.89162 6.679718C151.79194 6.689718 151.76194 6.699718 151.76194 6.779405C151.76194 6.809093 151.76194 6.829093 151.81194 7.008468L152.49912 9.78753H154.38194C155.33819 9.78753 155.52725 9.05034 155.52725 8.62222C155.52725 7.63597 154.64069 6.669718 153.46537 6.669718H152.11069Z'/><path d='M196.75876 7.97472H196.5097C196.46001 7.71566 196.42001 7.48659 196.33033 7.24753C196.28064 7.088155 196.25064 7.008468 195.67314 7.008468H194.87595C195.00564 7.56628 195.31439 8.04441 195.76251 8.7019C196.23095 9.40909 196.63908 10.09628 196.63908 10.88347C196.63908 12.26784 195.29439 13.38378 193.61095 13.38378C191.89783 13.38378 190.572825 12.24816 190.572825 10.88347C190.572825 10.09628 190.981263 9.40909 191.44939 8.7019C191.88783 8.04441 192.20658 7.56628 192.33595 7.008468H191.53908C190.961263 7.008468 190.931575 7.088155 190.881575 7.23753C190.801888 7.46659 190.7522 7.72566 190.7022 7.97472H190.45345L190.781888 6.360968H192.37595C192.59501 6.360968 192.6247 6.360968 192.6247 6.57003C192.6247 7.26753 192.31595 8.14409 192.08689 8.78159C191.87783 9.3594 191.59876 10.14628 191.59876 10.89347C191.59876 12.48722 192.6947 13.1644 193.60095 13.1644C194.5572 13.1644 195.61314 12.44722 195.61314 10.89347C195.61314 10.14628 195.34439 9.38909 195.05533 8.57222C194.90595 8.15409 194.5872 7.25753 194.5872 6.57003C194.5872 6.360968 194.6172 6.360968 194.84626 6.360968H196.43001L196.75876 7.97472Z'/><path d='M22.0703 50.4141V17.418' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M19.6797 52.28513C21.113295 51.90622 21.789077 51.062473 22.070327 50.214816C22.34767 51.062473 23.023452 51.90622 24.46095 52.28513' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M24.46095 19.28901C23.023452 18.91011 22.34767 18.066358 22.070327 17.218702C21.789077 18.066358 21.113295 18.91011 19.6797 19.28901' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M26.67498 36.8034C26.67498 36.91496 26.59123 37.0684 26.39592 37.0684C26.20748 37.0684 26.00529 36.88715 26.00529 36.68496C26.00529 36.56621 26.09592 36.41965 26.28436 36.41965C26.48654 36.41965 26.67498 36.61496 26.67498 36.8034ZM25.251856 33.259964C25.224044 33.169339 25.189356 33.085589 25.189356 32.967151C25.189356 32.639339 25.46811 32.374339 25.85186 32.374339C26.54936 32.374339 26.85623 33.336839 26.85623 33.441526C26.85623 33.53215 26.76561 33.53215 26.74467 33.53215C26.64686 33.53215 26.63998 33.49028 26.61217 33.413401C26.45154 32.855589 26.14467 32.569651 25.87279 32.569651C25.73311 32.569651 25.69842 32.660276 25.69842 32.813714C25.69842 32.974026 25.74717 33.106526 25.80998 33.259964C25.87967 33.4484 25.95654 33.63684 26.03311 33.81809C26.09592 33.98559 26.34717 34.62028 26.37498 34.70403C26.39592 34.77371 26.41686 34.85746 26.41686 34.92715C26.41686 35.25496 26.13779 35.51996 25.75404 35.51996C25.063731 35.51996 24.742794 34.57153 24.742794 34.45278C24.742794 34.36215 24.840606 34.36215 24.861231 34.36215C24.959044 34.36215 24.965919 34.39715 24.986856 34.47371C25.168419 35.07371 25.47529 35.32465 25.73311 35.32465C25.84498 35.32465 25.90748 35.26903 25.90748 35.08059C25.90748 34.92028 25.86592 34.81559 25.69154 34.38309L25.251856 33.259964Z'/><path d='M74.6484 61.3164H41.418' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M44.72655 58.92576C44.34764 60.359357 43.503892 61.035138 42.65233 61.316388C43.503892 61.593732 44.34764 62.27342 44.72655 63.70701' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M43.29301 58.92576C42.9141 60.359357 42.07035 61.035138 41.218787 61.316388C42.07035 61.593732 42.9141 62.27342 43.29301 63.70701' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M59.43429 58.84079C59.44116 58.8686 59.44835 58.91047 59.44835 58.94547C59.44835 58.98735 59.42023 59.04297 59.35741 59.04297C59.28773 59.04297 58.99491 58.80579 58.85523 58.58266C58.78554 58.72204 58.55554 59.04297 58.10898 59.04297C57.21616 59.04297 56.309601 58.05954 56.309601 57.05516C56.309601 56.378598 56.762726 55.897348 57.36273 55.897348C57.76023 55.897348 58.08804 56.148285 58.24148 56.280785C58.2346 56.259848 58.01835 55.381098 57.99054 55.26266C57.89273 54.87891 57.88585 54.87204 57.45335 54.86485C57.3696 54.86485 57.2721 54.86485 57.2721 54.71141C57.2721 54.66954 57.30679 54.61391 57.37648 54.61391C57.60679 54.61391 57.86491 54.64172 58.1021 54.64172S58.6321 54.61391 58.84835 54.61391C58.91116 54.61391 58.98773 54.63485 58.98773 54.76735C58.98773 54.86485 58.89023 54.86485 58.80648 54.86485C58.65304 54.86485 58.4646 54.86485 58.4646 54.9486C58.4646 54.969535 58.4646 54.983598 58.4996 55.102035L59.43429 58.84079ZM58.38116 56.845785C58.34616 56.727348 58.34616 56.713285 58.25554 56.601723C57.98335 56.280785 57.65554 56.09266 57.38366 56.09266C57.12554 56.09266 56.874289 56.27391 56.874289 56.769223C56.874289 57.13891 57.07679 57.9061 57.2371 58.18516C57.55804 58.74297 57.91366 58.84766 58.10898 58.84766C58.5971 58.84766 58.72991 58.31079 58.72991 58.24079C58.72991 58.2061 58.71585 58.16422 58.70898 58.13641L58.38116 56.845785Z'/><path d='M91.1094 61.3164H134.4531' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M132.5823 63.70701C132.96121 62.27342 133.804955 61.593732 134.652611 61.316388C133.804955 61.035138 132.96121 60.359357 132.5823 58.92576' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M113.48578 67.77303H114.16953C114.3089 67.77303 114.39953 67.77303 114.39953 67.92647C114.39953 68.02428 114.3089 68.02428 114.18328 68.02428H113.53453C113.69515 68.91022 113.75078 69.23084 113.80672 69.43334C113.84172 69.58678 113.99515 69.73303 114.16234 69.73303C114.16953 69.73303 114.35765 69.73303 114.49015 69.64928C114.20422 69.55866 114.18328 69.30772 114.18328 69.26584C114.18328 69.11241 114.30203 69.00772 114.46234 69.00772C114.65078 69.00772 114.85984 69.16803 114.85984 69.43334C114.85984 69.75397 114.51828 69.92834 114.16234 69.92834C113.85547 69.92834 113.5139 69.75397 113.32547 69.40522C113.18578 69.14709 113.13015 68.83334 112.98359 68.02428H112.43265C112.29328 68.02428 112.20234 68.02428 112.20234 67.87084C112.20234 67.77303 112.29328 67.77303 112.41859 67.77303H112.93484C112.92797 67.73116 112.48828 65.220218 112.32109 64.473968C112.28609 64.320531 112.16765 63.79053 111.83265 63.79053C111.82578 63.79053 111.65828 63.79053 111.525779 63.87428C111.81172 63.96491 111.83265 64.215843 111.83265 64.257718C111.83265 64.411156 111.71422 64.515843 111.553904 64.515843C111.365466 64.515843 111.156091 64.355531 111.156091 64.090218C111.156091 63.77647 111.483904 63.59522 111.83265 63.59522C112.27922 63.59522 112.58609 64.055531 112.66984 64.208968C112.92078 64.676156 113.0814 65.534281 113.09515 65.618031L113.48578 67.77303Z'/><path d='M75.5312 54.9766L30.8906 16.4609' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M33.871114 15.871133C32.648459 16.710979 31.566429 16.671918 30.742209 16.328167C31.203147 17.093792 31.398456 18.160197 30.750027 19.492229' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M58.24574 31.15301H58.92949C59.06886 31.15301 59.15949 31.15301 59.15949 31.30645C59.15949 31.40426 59.06886 31.40426 58.94324 31.40426H58.29449C58.45511 32.2902 58.51073 32.61082 58.56667 32.81332C58.60167 32.96676 58.75511 33.11301 58.9223 33.11301C58.92949 33.11301 59.11761 33.11301 59.25011 33.02926C58.96417 32.93863 58.94324 32.6877 58.94324 32.64582C58.94324 32.49238 59.06198 32.3877 59.2223 32.3877C59.41074 32.3877 59.6198 32.54801 59.6198 32.81332C59.6198 33.13395 59.27824 33.30832 58.9223 33.30832C58.61542 33.30832 58.27386 33.13395 58.08542 32.7852C57.94574 32.52707 57.89011 32.21332 57.74355 31.40426H57.19261C57.05323 31.40426 56.9623 31.40426 56.9623 31.25082C56.9623 31.15301 57.05323 31.15301 57.17855 31.15301H57.6948C57.68792 31.11113 57.24824 28.600196 57.08105 27.853946C57.04605 27.700509 56.92761 27.17051 56.59261 27.17051C56.58574 27.17051 56.41823 27.17051 56.285735 27.25426C56.57167 27.34488 56.59261 27.595821 56.59261 27.637696C56.59261 27.791134 56.47417 27.895821 56.31386 27.895821C56.125423 27.895821 55.916048 27.735509 55.916048 27.470196C55.916048 27.15645 56.24386 26.9752 56.59261 26.9752C57.03917 26.9752 57.34605 27.435509 57.4298 27.588946C57.68074 28.056134 57.84136 28.914259 57.85511 28.998009L58.24574 31.15301Z'/><path d='M82.8789 52.9023V17.418' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M80.48825 54.77732C81.921849 54.39841 82.59763 53.55466 82.87888 52.703098C83.156224 53.55466 83.835911 54.39841 85.2695 54.77732' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M85.2695 19.28901C83.835911 18.91011 83.156224 18.066358 82.87888 17.218702C82.59763 18.066358 81.921849 18.91011 80.48825 19.28901' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M87.70128 39.48525C86.37597 38.55056 86.027219 37.07181 86.027219 36.00462C86.027219 35.021186 86.32003 33.493686 87.70128 32.51712C87.75691 32.51712 87.84066 32.51712 87.84066 32.60087C87.84066 32.64275 87.81972 32.65681 87.77097 32.70556C86.84316 33.542436 86.50159 34.728373 86.50159 35.99775C86.50159 37.88087 87.22003 38.80181 87.79191 39.31775C87.81972 39.34587 87.84066 39.36681 87.84066 39.4015C87.84066 39.48525 87.75691 39.48525 87.70128 39.48525ZM89.80722 38.55744C89.80722 38.75994 89.63972 38.95525 89.40253 38.95525C89.19316 38.95525 89.00503 38.78775 89.00503 38.55744C89.00503 38.3065 89.20722 38.15306 89.40253 38.15306C89.62566 38.15306 89.80722 38.32744 89.80722 38.55744ZM88.74691 37.25337V37.00212C89.18628 37.00212 89.24909 36.96025 89.24909 36.61837V34.804936C89.24909 34.505248 89.17941 34.505248 88.72597 34.505248V34.253998C88.74003 34.253998 89.22816 34.281811 89.50722 34.281811C89.75128 34.281811 90.00222 34.274936 90.24659 34.253998V34.505248C89.84191 34.505248 89.77222 34.505248 89.77222 34.798061V37.32994L88.74691 37.25337ZM93.07097 39.01806V38.76681C93.53816 38.76681 93.59409 38.71806 93.59409 38.37619V36.93244C93.33597 37.18337 93.00128 37.32994 92.61753 37.32994C91.69003 37.32994 90.90878 36.63244 90.90878 35.75369C90.90878 34.881811 91.64816 34.184311 92.53378 34.184311C93.10597 34.184311 93.44753 34.491186 93.56628 34.616811V34.184311L94.64034 34.253998V34.505248C94.17284 34.505248 94.11722 34.553998 94.11722 34.895561V39.09462L93.07097 39.01806ZM93.56628 34.986498C93.38472 34.658686 93.02909 34.379623 92.57566 34.379623C92.18503 34.379623 91.90597 34.609623 91.76659 34.812123C91.62722 35.021186 91.54347 35.30025 91.54347 35.7465C91.54347 35.90712 91.54347 36.43025 91.82941 36.75806C92.10847 37.07181 92.45003 37.13462 92.65253 37.13462C92.98722 37.13462 93.28722 36.98119 93.48253 36.73025C93.56628 36.61837 93.56628 36.6115 93.56628 36.479V34.986498Z'/><path d='M98.61584 36.68583C98.59615 36.79021 98.57615 36.82021 98.46646 36.82021C98.34709 36.82021 98.31709 36.78052 98.26709 36.70552L96.31428 33.875831C96.1049 33.571768 95.930526 33.492081 95.606776 33.477081C95.512089 33.472081 95.512089 33.342706 95.512089 33.337706C95.512089 33.268018 95.571776 33.253018 95.591776 33.253018C95.661464 33.253018 95.746151 33.268018 95.816151 33.268018C95.900839 33.268018 95.985526 33.273018 96.07021 33.273018C96.1649 33.273018 96.25459 33.268018 96.34428 33.268018C96.43365 33.268018 96.53834 33.253018 96.62803 33.253018C96.66303 33.253018 96.74771 33.253018 96.74771 33.392393C96.74771 33.472081 96.67303 33.477081 96.65303 33.477081C96.61303 33.477081 96.41896 33.487081 96.41896 33.606768C96.41896 33.666456 96.47865 33.751143 96.51365 33.801143L96.87709 34.33427C96.90209 34.36396 96.90709 34.36896 97.00178 34.36896H98.51146C98.52146 34.30927 98.52615 34.28427 98.54115 34.224581C98.55615 34.134893 98.65584 33.636768 98.65584 33.586768C98.65584 33.477081 98.34209 33.477081 98.31709 33.477081C98.2424 33.477081 98.16271 33.477081 98.16271 33.337706C98.16271 33.288018 98.1974 33.253018 98.2524 33.253018C98.35678 33.253018 98.47646 33.268018 98.58615 33.268018C98.70553 33.268018 98.82021 33.273018 98.9399 33.273018C99.04459 33.273018 99.15396 33.268018 99.25865 33.268018C99.35834 33.268018 99.47303 33.253018 99.5724 33.253018C99.65709 33.253018 99.69209 33.312706 99.69209 33.392393C99.69209 33.477081 99.6124 33.477081 99.54271 33.477081C99.21396 33.477081 99.20896 33.512081 99.18896 33.621768L98.61584 36.68583ZM98.16771 36.20739L98.47146 34.59333H97.05646L98.16771 36.20739Z'/><path d='M102.12486 34.365561C102.12486 33.982123 102.05486 33.535561 101.580799 33.08931C101.552674 33.06119 101.531737 33.04025 101.531737 33.00556C101.531737 32.9565 101.587674 32.90775 101.629549 32.90775C101.72705 32.90775 102.31986 33.465873 102.31986 34.295873C102.31986 34.728373 102.15267 35.056186 101.83174 35.056186C101.601737 35.056186 101.434237 34.874623 101.434237 34.658686C101.434237 34.435248 101.594549 34.253998 101.83861 34.253998C102.00611 34.253998 102.11767 34.365561 102.12486 34.365561ZM105.8558 37.009H106.53955C106.67892 37.009 106.76955 37.009 106.76955 37.16244C106.76955 37.26025 106.67892 37.26025 106.5533 37.26025H105.90455C106.06517 38.14619 106.1208 38.46681 106.17674 38.66931C106.21174 38.82275 106.36517 38.969 106.53236 38.969C106.53955 38.969 106.72767 38.969 106.86017 38.88525C106.57424 38.79462 106.5533 38.54369 106.5533 38.50181C106.5533 38.34837 106.67205 38.24369 106.83236 38.24369C107.0208 38.24369 107.22986 38.404 107.22986 38.66931C107.22986 38.98994 106.8883 39.16431 106.53236 39.16431C106.22549 39.16431 105.88392 38.98994 105.69549 38.64119C105.5558 38.38306 105.50017 38.06931 105.35361 37.26025H104.80267C104.6633 37.26025 104.57236 37.26025 104.57236 37.10681C104.57236 37.009 104.6633 37.009 104.78861 37.009H105.30486C105.29799 36.96712 104.8583 34.456186 104.69111 33.709936C104.65611 33.556498 104.53767 33.0265 104.20267 33.0265C104.1958 33.0265 104.0283 33.0265 103.8958 33.11025C104.18174 33.20087 104.20267 33.451811 104.20267 33.493686C104.20267 33.647123 104.08424 33.751811 103.92392 33.751811C103.73549 33.751811 103.52611 33.591498 103.52611 33.326186C103.52611 33.01244 103.85392 32.83119 104.20267 32.83119C104.64924 32.83119 104.95611 33.291498 105.03986 33.444936C105.2908 33.912123 105.45142 34.770248 105.46517 34.853998L105.8558 37.009Z'/><path d='M108.313842 39.48525C108.265092 39.48525 108.181342 39.48525 108.181342 39.4015C108.181342 39.36681 108.20228 39.34587 108.244155 39.29681C108.84384 38.74587 109.51353 37.80431 109.51353 36.00462C109.51353 34.546811 109.06009 33.444936 108.306655 32.7615C108.188217 32.64275 108.181342 32.63587 108.181342 32.60087C108.181342 32.56619 108.20228 32.51712 108.271967 32.51712C108.355717 32.51712 109.01822 32.97744 109.47853 33.849311C109.7854 34.428373 109.9879 35.181811 109.9879 35.99775C109.9879 36.98119 109.69478 38.50869 108.313842 39.48525Z'/><path d='M151.8945 61.3164H186.2344' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M184.35982 63.70701C184.73873 62.27342 185.582475 61.593732 186.434038 61.316388C185.582475 61.035138 184.73873 60.359357 184.35982 58.92576' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M143.375 52.9023V17.418' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M140.98486 54.77732C142.418457 54.39841 143.094238 53.55466 143.375488 52.703098C143.652832 53.55466 144.33252 54.39841 145.76611 54.77732' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M145.76611 19.28901C144.33252 18.91011 143.652832 18.066358 143.375488 17.218702C143.094238 18.066358 142.418457 18.91011 140.98486 19.28901' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M149.21541 38.92778C149.14572 39.0534 149.12478 39.08809 148.98541 39.08809C148.90166 39.08809 148.83197 39.06715 148.76916 38.95559L146.195408 34.282466C146.146658 34.205591 146.146658 34.191841 146.146658 34.184653C146.146658 34.114966 146.202283 34.114966 146.313846 34.114966H151.66385C151.77541 34.114966 151.83103 34.114966 151.83103 34.184653C151.83103 34.191841 151.83103 34.205591 151.78228 34.282466L149.21541 38.92778ZM148.7551 38.40465L150.80572 34.686841H146.704471L148.7551 38.40465Z'/><path d='M153.50162 33.527423C153.46162 33.378048 153.45662 33.338048 153.07818 33.338048C152.948493 33.338048 152.868805 33.338048 152.868805 33.198673C152.868805 33.113986 152.948493 33.113986 153.03318 33.113986H155.20037C156.09724 33.113986 156.82474 33.672111 156.82474 34.17024C156.82474 34.47899 156.53568 34.81305 155.85818 34.89774C156.35131 34.96242 157.05381 35.29117 157.05381 35.7893C157.05381 36.20805 156.56068 36.5168 155.88318 36.5168H153.84037C153.74568 36.5168 153.66599 36.5168 153.66599 36.37742C153.66599 36.29274 153.73068 36.29274 153.85037 36.29274C153.90006 36.29274 154.06443 36.29274 154.16912 36.26274C154.16912 36.20305 154.16912 36.19305 154.15412 36.13805L153.50162 33.527423ZM154.34349 34.96742L154.63256 36.12805C154.67224 36.28274 154.67224 36.29274 154.88162 36.29274H155.79349C156.28662 36.29274 156.52068 36.03836 156.52068 35.7743C156.52068 35.37086 155.98256 34.96742 155.28506 34.96742H154.34349ZM154.10443 33.338048C154.06443 33.338048 153.99474 33.338048 153.94506 33.348048C153.95006 33.388048 153.95006 33.398048 153.96006 33.437736L154.29881 34.79805H155.51443C156.02256 34.79805 156.27662 34.50399 156.27662 34.19024C156.27662 33.706798 155.68381 33.338048 155.06599 33.338048H154.10443Z'/><path d='M193.6172 52.9023V17.418' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M191.22687 54.77732C192.660464 54.39841 193.336245 53.55466 193.617495 52.703098C193.894839 53.55466 194.57062 54.39841 196.00812 54.77732' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M196.00812 19.28901C194.57062 18.91011 193.894839 18.066358 193.617495 17.218702C193.336245 18.066358 192.660464 18.91011 191.22687 19.28901' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M197.67792 36.60699H198.38917C198.52167 36.60699 198.6126 36.60699 198.6126 36.76043C198.6126 36.85824 198.52167 36.85824 198.40323 36.85824H197.74073L197.99854 37.89043C198.00573 37.92543 198.01948 37.96012 198.01948 37.98824C198.01948 38.11387 197.92198 38.21137 197.7826 38.21137C197.60823 38.21137 197.50354 38.09293 197.45448 37.91137C197.40573 37.73699 197.49635 38.07199 197.18948 36.85824H196.478229C196.345729 36.85824 196.254791 36.85824 196.254791 36.7048C196.254791 36.60699 196.338541 36.60699 196.464166 36.60699H197.12667L196.715416 34.96105C196.673541 34.786679 196.610729 34.535429 196.610729 34.444804C196.610729 34.033241 196.959479 33.782304 197.35698 33.782304C198.13135 33.782304 198.57073 34.758866 198.57073 34.849491C198.57073 34.94012 198.4801 34.94012 198.45917 34.94012C198.37542 34.94012 198.36823 34.92605 198.3126 34.807616C198.11729 34.368241 197.76167 33.977616 197.37792 33.977616C197.23135 33.977616 197.13385 34.068241 197.13385 34.319179C197.13385 34.389179 197.16167 34.535429 197.17573 34.605429L197.67792 36.60699Z'/><path d='M64.5312 8.8516H30.9883' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M32.86331 6.46094C32.4844 7.894534 31.640652 8.574221 30.78909 8.851565C31.640652 9.128909 32.4844 9.808596 32.86331 11.24219' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M43.083097 2.652081C43.034347 2.45677 43.020284 2.40083 42.741222 2.40083C42.650597 2.40083 42.553097 2.40083 42.553097 2.25458C42.553097 2.17771 42.615909 2.14989 42.650597 2.14989C42.831847 2.14989 43.062159 2.17771 43.250597 2.17771C43.487784 2.17771 43.75278 2.14989 43.98278 2.14989C44.0456 2.14989 44.12247 2.17083 44.12247 2.30333C44.12247 2.40083 44.02466 2.40083 43.94091 2.40083C43.78747 2.40083 43.59935 2.40083 43.59935 2.48458C43.59935 2.519581 43.6481 2.700831 43.67591 2.805518C43.75966 3.175206 43.85747 3.551768 43.93403 3.844893C44.01778 3.705206 44.23403 3.433331 44.65247 3.433331C45.50341 3.433331 46.44497 4.374893 46.44497 5.41427C46.44497 6.23021 45.87997 6.57896 45.39872 6.57896C44.96622 6.57896 44.59653 6.28614 44.40841 6.09083C44.28966 6.48833 43.89903 6.57896 43.68997 6.57896C43.417784 6.57896 43.250597 6.39771 43.139034 6.20927C42.999347 5.97208 42.887784 5.55364 42.887784 5.51177C42.887784 5.42114 42.985597 5.42114 43.006222 5.42114C43.104034 5.42114 43.110909 5.44208 43.159972 5.63052C43.264347 6.03489 43.396847 6.38364 43.66903 6.38364C43.85028 6.38364 43.89903 6.23021 43.89903 6.04177C43.89903 5.96521 43.88528 5.87458 43.8781 5.83271L43.083097 2.652081ZM44.40122 5.74208C44.80591 6.27896 45.15466 6.38364 45.37778 6.38364C45.64997 6.38364 45.88716 6.18146 45.88716 5.70708C45.88716 5.42114 45.73372 4.70958 45.52435 4.305206C45.34997 3.963331 45.0081 3.628643 44.65247 3.628643C44.15716 3.628643 44.03185 4.165518 44.03185 4.235518C44.03185 4.263331 44.0456 4.312081 44.05247 4.339893L44.40122 5.74208Z'/><path d='M47.90264 2.915476C47.86264 2.766101 47.85764 2.726101 47.479207 2.726101C47.349519 2.726101 47.269832 2.726101 47.269832 2.586726C47.269832 2.502038 47.349519 2.502038 47.434207 2.502038H49.60139C50.49827 2.502038 51.22577 3.060163 51.22577 3.55829C51.22577 3.86704 50.93671 4.2011 50.25921 4.28579C50.75233 4.35048 51.45483 4.67923 51.45483 5.17735C51.45483 5.5961 50.96171 5.90485 50.28421 5.90485H48.24139C48.14671 5.90485 48.06702 5.90485 48.06702 5.76548C48.06702 5.68079 48.13171 5.68079 48.25139 5.68079C48.30108 5.68079 48.46546 5.68079 48.57014 5.65079C48.57014 5.5911 48.57014 5.5811 48.55514 5.5261L47.90264 2.915476ZM48.74452 4.35548L49.03358 5.5161C49.07327 5.67079 49.07327 5.68079 49.28264 5.68079H50.19452C50.68764 5.68079 50.92171 5.42641 50.92171 5.16235C50.92171 4.75891 50.38358 4.35548 49.68608 4.35548H48.74452ZM48.50546 2.726101C48.46546 2.726101 48.39577 2.726101 48.34608 2.736101C48.35108 2.776101 48.35108 2.786101 48.36108 2.825788L48.69983 4.1861H49.91546C50.42358 4.1861 50.67764 3.89204 50.67764 3.57829C50.67764 3.094851 50.08483 2.726101 49.46702 2.726101H48.50546Z'/><path d='M101.22265 8.8516H124.3359' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M122.46478 11.24219C122.84369 9.808596 123.687436 9.128909 124.535093 8.851565C123.687436 8.574221 122.84369 7.894534 122.46478 6.46094' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M104.09577 15.30901H104.77952C104.91889 15.30901 105.00952 15.30901 105.00952 15.46245C105.00952 15.56026 104.91889 15.56026 104.79327 15.56026H104.14452C104.30514 16.4462 104.36077 16.76683 104.4167 16.96933C104.4517 17.12276 104.60514 17.26901 104.77233 17.26901C104.77952 17.26901 104.96764 17.26901 105.10014 17.18526C104.8142 17.09464 104.79327 16.8437 104.79327 16.80183C104.79327 16.64839 104.91202 16.5437 105.07233 16.5437C105.26077 16.5437 105.46983 16.70401 105.46983 16.96933C105.46983 17.28995 105.12827 17.46433 104.77233 17.46433C104.46545 17.46433 104.12389 17.28995 103.93545 16.9412C103.79577 16.68308 103.74014 16.36933 103.59358 15.56026H103.04264C102.90327 15.56026 102.81233 15.56026 102.81233 15.40683C102.81233 15.30901 102.90327 15.30901 103.02858 15.30901H103.54483C103.53795 15.26714 103.09827 12.756201 102.93108 12.009951C102.89608 11.856514 102.77764 11.32651 102.44264 11.32651C102.43577 11.32651 102.26827 11.32651 102.135766 11.41026C102.4217 11.50089 102.44264 11.751826 102.44264 11.793701C102.44264 11.947139 102.3242 12.051826 102.163891 12.051826C101.975454 12.051826 101.766079 11.891514 101.766079 11.626201C101.766079 11.31245 102.093891 11.1312 102.44264 11.1312C102.8892 11.1312 103.19608 11.591514 103.27983 11.744951C103.53077 12.212139 103.69139 13.070264 103.70514 13.154014L104.09577 15.30901Z'/><path d='M110.80548 15.82526C110.88235 15.90214 110.90298 15.94401 110.90298 15.99276C110.90298 16.10433 110.81235 16.16714 110.73579 16.16714C110.6661 16.16714 110.64517 16.1462 110.56141 16.06245L109.03391 14.54183L107.49923 16.06933C107.42954 16.13901 107.40173 16.16714 107.33891 16.16714C107.2411 16.16714 107.16454 16.09026 107.16454 15.99276C107.16454 15.92995 107.18548 15.90901 107.26923 15.82526L108.78985 14.30464L107.26923 12.784326C107.17141 12.686514 107.16454 12.651514 107.16454 12.609951C107.16454 12.512139 107.2411 12.435576 107.33891 12.435576C107.40173 12.435576 107.42266 12.456514 107.49923 12.533076L109.03391 14.06058L110.62423 12.470264C110.65891 12.449326 110.69392 12.435576 110.73579 12.435576C110.81235 12.435576 110.90298 12.498076 110.90298 12.609951C110.90298 12.665576 110.88923 12.679639 110.86829 12.700576C110.85423 12.728389 109.5011 14.08151 109.27798 14.29776L110.80548 15.82526Z'/><path d='M113.62184 16.85745C113.62184 17.05995 113.45434 17.25526 113.21716 17.25526C113.007781 17.25526 112.819656 17.08776 112.819656 16.85745C112.819656 16.60651 113.021844 16.45308 113.21716 16.45308C113.44028 16.45308 113.62184 16.62745 113.62184 16.85745ZM112.561531 15.55339V15.30214C113.000906 15.30214 113.063719 15.26026 113.063719 14.91839V13.104951C113.063719 12.805264 112.994031 12.805264 112.540594 12.805264V12.554014C112.554656 12.554014 113.042781 12.581826 113.32184 12.581826C113.56591 12.581826 113.81684 12.574951 114.06122 12.554014V12.805264C113.65653 12.805264 113.58684 12.805264 113.58684 13.098076V15.62995L112.561531 15.55339ZM116.88559 17.31808V17.06683C117.35278 17.06683 117.40872 17.01808 117.40872 16.6762V15.23245C117.15059 15.48339 116.81591 15.62995 116.43216 15.62995C115.50466 15.62995 114.72341 14.93245 114.72341 14.0537C114.72341 13.181826 115.46278 12.484326 116.34841 12.484326C116.92059 12.484326 117.26216 12.791201 117.38091 12.916826V12.484326L118.45497 12.554014V12.805264C117.98747 12.805264 117.93184 12.854014 117.93184 13.195576V17.39464L116.88559 17.31808ZM117.38091 13.286514C117.19934 12.958701 116.84372 12.679639 116.39028 12.679639C115.99966 12.679639 115.72059 12.909639 115.58122 13.112139C115.44184 13.321201 115.35809 13.60026 115.35809 14.04651C115.35809 14.20714 115.35809 14.73026 115.64403 15.05808C115.92309 15.37183 116.26466 15.43464 116.46716 15.43464C116.80184 15.43464 117.10184 15.2812 117.29716 15.03026C117.38091 14.91839 117.38091 14.91151 117.38091 14.77901V13.286514Z'/><path d='M120.04062 11.966471C120.00062 11.817096 119.99562 11.777096 119.617181 11.777096C119.487494 11.777096 119.407806 11.777096 119.407806 11.637721C119.407806 11.553034 119.487494 11.553034 119.572181 11.553034H121.73937C122.63624 11.553034 123.36374 12.111159 123.36374 12.60928C123.36374 12.91803 123.07468 13.2521 122.39718 13.33678C122.89031 13.40147 123.59281 13.73022 123.59281 14.22835C123.59281 14.6471 123.09968 14.95585 122.42218 14.95585H120.37937C120.28468 14.95585 120.20499 14.95585 120.20499 14.81647C120.20499 14.73178 120.26968 14.73178 120.38937 14.73178C120.43906 14.73178 120.60343 14.73178 120.70812 14.70178C120.70812 14.6421 120.70812 14.6321 120.69312 14.5771L120.04062 11.966471ZM120.88249 13.40647L121.17156 14.5671C121.21124 14.72178 121.21124 14.73178 121.42062 14.73178H122.33249C122.82562 14.73178 123.05968 14.47741 123.05968 14.21335C123.05968 13.80991 122.52156 13.40647 121.82406 13.40647H120.88249ZM120.64343 11.777096C120.60343 11.777096 120.53374 11.777096 120.48406 11.787096C120.48906 11.827096 120.48906 11.837096 120.49906 11.876784L120.83781 13.2371H122.05343C122.56156 13.2371 122.81562 12.94303 122.81562 12.62928C122.81562 12.145846 122.22281 11.777096 121.60499 11.777096H120.64343Z'/><path d='M162.0117 8.8516H185.125' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10'/><path d='M183.25434 11.24219C183.63325 9.808596 184.477001 9.128909 185.324657 8.851565C184.477001 8.574221 183.63325 7.894534 183.25434 6.46094' stroke='#000' fill='none' stroke-width='.39848' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'/><path d='M173.11985 14.54373C173.22454 14.54373 173.38485 14.54373 173.38485 14.71811C173.38485 14.8853 173.21735 14.8853 173.12672 14.8853H168.509224C168.418599 14.8853 168.251099 14.8853 168.251099 14.71811C168.251099 14.54373 168.411724 14.54373 168.516412 14.54373H173.11985ZM173.12672 13.009047C173.21735 13.009047 173.38485 13.009047 173.38485 13.176547C173.38485 13.35092 173.22454 13.35092 173.11985 13.35092H168.516412C168.411724 13.35092 168.251099 13.35092 168.251099 13.176547C168.251099 13.009047 168.418599 13.009047 168.509224 13.009047H173.12672Z'/><path d='M175.11462 11.612442C175.07462 11.463067 175.06962 11.423067 174.691186 11.423067C174.561498 11.423067 174.481811 11.423067 174.481811 11.283692C174.481811 11.199004 174.561498 11.199004 174.646186 11.199004H176.81337C177.71025 11.199004 178.43775 11.757129 178.43775 12.25525C178.43775 12.564 178.14869 12.89807 177.47119 12.98275C177.96431 13.04744 178.66681 13.37619 178.66681 13.87432C178.66681 14.29307 178.17369 14.60182 177.49619 14.60182H175.45337C175.35869 14.60182 175.279 14.60182 175.279 14.46244C175.279 14.37775 175.34369 14.37775 175.46337 14.37775C175.51306 14.37775 175.67744 14.37775 175.78212 14.34775C175.78212 14.28807 175.78212 14.27807 175.76712 14.22307L175.11462 11.612442ZM175.9565 13.05244L176.24556 14.21307C176.28525 14.36775 176.28525 14.37775 176.49462 14.37775H177.4065C177.89962 14.37775 178.13369 14.12338 178.13369 13.85932C178.13369 13.45588 177.59556 13.05244 176.89806 13.05244H175.9565ZM175.71744 11.423067C175.67744 11.423067 175.60775 11.423067 175.55806 11.433067C175.56306 11.473067 175.56306 11.483067 175.57306 11.522754L175.91181 12.88307H177.12744C177.63556 12.88307 177.88962 12.589 177.88962 12.27525C177.88962 11.791817 177.29681 11.423067 176.679 11.423067H175.71744Z'/></g></g></svg></center></p>
<p>中间的和右边的方块都是拉回，由此可以将：</p>
<div class="arithmatex">\[
(\mathrm{id}_A, f): A \rightarrowtail A \times B
\]</div>
<p>写成</p>
<div class="arithmatex">\[
\{a | f(a) = b\} \cong \{(a, b) | f(a) = b\} \rightarrowtail A \times B
\]</div>
<p>根据存在量词的定义，有：</p>
<div class="arithmatex">\[
\{b | \exists a\ f(a) = b\} = \mathrm{Im}\ (p_b \circ (\mathrm{id}_A, f)) = \mathrm{Im}\ f
\]</div>
<p>当然，<span class="arithmatex">\(\mathrm{Im}\ f = B\)</span> 当且仅当 <span class="arithmatex">\(f\)</span> 是一个满射。</p>
<p>其它陈述的证明，参见参考文献 [4] 的命题 6.10.2。</p>
</details>
<p>满射的情形还需要做一个补充：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.13</p>
<p>在宇象 <span class="arithmatex">\(L\)</span> 上的层拓扑斯中，态射 <span class="arithmatex">\(f: A \to B\)</span> 是一个满射当且仅当任取 <span class="arithmatex">\(u \in L\)</span>，<span class="arithmatex">\(b \in B(u)\)</span>，都有一个覆盖 <span class="arithmatex">\(u = \bigvee_{i \in I} u_i\)</span> 和 <span class="arithmatex">\(a_i \in A(u_i)\)</span> 使得对任意 <span class="arithmatex">\(i \in I\)</span>，<span class="arithmatex">\(f_{u_i}(a_i) = b |_{u_i}\)</span>。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>延续命题中的记号，给定 <span class="arithmatex">\(g, h: B \rightrightarrows C\)</span> 满足 <span class="arithmatex">\(gf = hf\)</span>，则 <span class="arithmatex">\(g\)</span> 和 <span class="arithmatex">\(h\)</span> 在所有 <span class="arithmatex">\(b_{u_i}\)</span> 上相等，因为 <span class="arithmatex">\(C\)</span> 是一个层，所以它们也在胶合 <span class="arithmatex">\(b\)</span> 上相等。</p>
<p>反过来，如果 <span class="arithmatex">\(f\)</span> 是 <span class="arithmatex">\(\mathsf{Sh}(L)\)</span> 上的一个满射，考虑其在预层拓扑斯 <span class="arithmatex">\(\mathsf{Psh}(L)\)</span><sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> 上的像分解 <span class="arithmatex">\(ip\)</span>，应用层函子 <span class="arithmatex">\(a\)</span>，就有 <span class="arithmatex">\(B \cong a(I)\)</span> 为 <span class="arithmatex">\(I\)</span> 构造出的层。回顾 3.2 节，我们会发现 <span class="arithmatex">\(B\)</span> 无外乎 <span class="arithmatex">\(I\)</span> 在定义层时的 Lawvere-Tierney 拓扑下的完备化，于是由例 3.8 即可得出结论。</p>
</details>
<div class="admonition info">
<p class="admonition-title">反例 4.14</p>
<p>存在一个宇性拓扑斯，其中满态射不一定在每个点上都是满射。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>考虑由三元素集 <span class="arithmatex">\(\{x, y, z\}\)</span> 给定的拓扑空间 <span class="arithmatex">\(X\)</span>，其上的开集定义为 <span class="arithmatex">\(\{x, y\}\)</span>，<span class="arithmatex">\(\{y, z\}\)</span> 和 <span class="arithmatex">\(\{y\}\)</span>。显然，置</p>
<div class="arithmatex">\[
A(\{x, y, z\}) = \varnothing, \quad A(\{x, y\}) = \{a\}, \quad A(\{y, z\}) = \{a'\}, \quad A(\{y\}) = \{a, a'\}
\]</div>
<p>能够得到 <span class="arithmatex">\(X\)</span> 上的一个层，胶合条件完全无关紧要。根据命题 4.13，态射 <span class="arithmatex">\(A \to 1\)</span> 是一个层拓扑斯中的满态射，但是在顶层并非满射。</p>
</details>
<p>类似的考虑也可以在任意的 Grothendieck 拓扑斯中进行。这表明宇性拓扑斯或者 Grothendieck 拓扑斯的内逻辑中，存在量词并不能被翻译成逐点的存在性：它毋宁说是一种局部的存在，在一个覆盖的所有部分中存在，在空性拓扑斯中，这也等同于说，在每个点的邻域中存在。但是在一个任意的拓扑斯中，当我们用其内逻辑写出证明的时候，命题 4.12 却告诉我们，可以直接用通常描述满射的公式描述满态射。这是一个很大的简化，尤其时当你需要处理各种满态射的组合的时候。</p>
<div class="admonition info">
<p class="admonition-title">拓展阅读</p>
<p>下面是另外一个很有趣的性质，例 4.11 当我们用拓扑斯的内逻辑表述的时候也会出现，也就是说，每个环都是一个局部环……如果选择了一个够大的拓扑斯！回顾一下，一个局部环指的是对于任意元素 <span class="arithmatex">\(r\)</span>，<span class="arithmatex">\(r\)</span> 和 <span class="arithmatex">\(1 - r\)</span> 中至少有一个是可逆的。举个例子，每个域都是一个局部环。</p>
<p>给定交换环 <span class="arithmatex">\(R\)</span>，在其 Zariski 谱上的层拓扑斯中，存在一个环 <span class="arithmatex">\(\hat R\)</span>，它在这个拓扑斯的内逻辑中是局部环，并且将原环实现为常元。见参考文献 [4] 的 2.11 节。</p>
</div>
<h2 id="46">4.6 内极限和余极限<a class="headerlink" href="#46" title="Permanent link">&para;</a></h2>
<p>许多习惯于在 Grothendieck 拓扑斯中工作的人往往觉得初等拓扑斯的结构太差以至于百无一用，因为它们不能处理那些要求无穷极限和余极限的深刻结果。他们错的一塌糊涂。首先，他们就没有意识到 Grothendieck 拓扑斯在由对象集合和箭头集合构成的图的极限和余极限之外还有更多得多的东西：它们有由对象层和箭头层构成的的内图表的极限和余极限。对于这些更加复杂而广泛的内极限和余极限的考察有助于我们构建简单而优雅的证明，而且它们在每个初等拓扑斯中都存在。</p>
<p>当然，一个初等拓扑斯只是有限完备、有限余完备的。因此，任意子对象的交和并、或者任意小极限或小余极限都不总是存在。但是，拓扑斯的内逻辑容许我们处理“任意的内构造”，不需要外加什么有限性条件。</p>
<p>例如，对象 <span class="arithmatex">\(A\)</span> 的子对象格是一个 Heyting 代数，但不是一个宇象，因为子对象的任意并不存在于其中。我们也已经发现，<span class="arithmatex">\(\Omega^A\)</span> 这个对象，也就是“A 中的对象的子对象”自己是一个内 Heyting 代数，实际的子对象作为这个内 Heyting 代数 <span class="arithmatex">\(\Omega^A\)</span> 中的常元存在。事实上，我们还可以进一步推广：</p>
<div class="admonition success">
<p class="admonition-title">命题 4.15</p>
<p>在一个初等拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 中，对于任意对象 <span class="arithmatex">\(A\)</span>，Heyting 代数 <span class="arithmatex">\(\Omega^A\)</span> 都有一个内宇象结构。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>如前所述，<span class="arithmatex">\(\Omega^A\)</span> 应当被认为是 A 的“对象的子对象”，因此一个子对象 <span class="arithmatex">\(S \rightarrowtail \Omega^A\)</span>，即一个 <span class="arithmatex">\(\Omega^{\Omega^A}\)</span> 类型的常元，可以被视作是 <span class="arithmatex">\(A\)</span> 中的一族子对象，下面两个表达式在拓扑斯的内逻辑中成立：</p>
<div class="arithmatex">\[
\bigcap S = \{a | \forall \sigma(\sigma \in S \implies a \in \sigma)\} \subseteq A
\]</div>
<div class="arithmatex">\[
\bigcup S = \{a | \exists \sigma(\sigma \in S \wedge a \in \sigma)\} \subseteq A
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span> 为类型 <span class="arithmatex">\(A\)</span> 的变元，<span class="arithmatex">\(\sigma\)</span> 为类型 <span class="arithmatex">\(\Omega^A\)</span> 的变元，它们定义了 <span class="arithmatex">\(A\)</span> 事实上的子对象。</p>
<p>这些子对象当然是内子对象的内部族的内交和内并。稍微改写一下这两个式子，用一个类型为 <span class="arithmatex">\(\Omega^{\Omega^A}\)</span> 的变元 <span class="arithmatex">\(S\)</span> 来表达，就给出了态射：</p>
<div class="arithmatex">\[\begin{aligned}
 \bigcup &amp; : &amp; \Omega^{\Omega^A} \to \Omega^A \\
 \bigcap &amp; : &amp; \Omega^{\Omega^A} \to \Omega^A \\
\end{aligned}\]</div>
<p>其中 <span class="arithmatex">\(\bigcup\)</span> 就表达了 <span class="arithmatex">\(\Omega^A\)</span> 的内宇象结构。事实上，由于笛卡尔闭性，这个态射一定对应了态射：</p>
<div class="arithmatex">\[
A \times \Omega^{\Omega^A} \to \Omega 
\]</div>
<p>因此也就对应于 <span class="arithmatex">\(A \times \Omega^{\Omega^A}\)</span> 的一个子对象</p>
<div class="arithmatex">\[
\{(a, S) | \exists \sigma\ (\sigma \in S \wedge a \in \sigma)\}
\]</div>
<p>细节可参见参考文献 [4] 的定理 6.1.9。</p>
</details>
<p>下面来考虑极限和余极限。给定范畴 <span class="arithmatex">\(\mathcal E\)</span> 和小范畴 <span class="arithmatex">\(\mathcal D\)</span>，所有 <span class="arithmatex">\(\mathcal D\)</span>-极限和 <span class="arithmatex">\(\mathcal D\)</span>-余极限的存在性就相当于是下面这个函子右伴随或左伴随的存在性：</p>
<div class="arithmatex">\[
\Delta_{\mathcal D}: \mathcal E \to [\mathcal D, \mathcal E], X \mapsto \Delta_X
\]</div>
<p>其中 <span class="arithmatex">\(\Delta_X\)</span> 表示 <span class="arithmatex">\(X\)</span> 上的所有常函子（见参考文献 [3] 中的命题 3.2.3）。</p>
<p>仍然取小范畴 <span class="arithmatex">\(\mathcal D\)</span>，记其对象为 <span class="arithmatex">\(\mathsf{Ob}(\mathcal D)\)</span>，态射为 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span><sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup>。每个函子 <span class="arithmatex">\(F: \mathcal D \to \mathsf{Set}\)</span> 都给出了一个集族 <span class="arithmatex">\((F(D))_{D \in \mathsf{Ob}(\mathcal D)}\)</span> 和 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span> 在这个集族上的作用。我们知道，这也可以被认为是一个态射 <span class="arithmatex">\(\coprod_{D \in \mathsf{Ob}(\mathcal D)} F(D) \to \mathsf{Ob}(\mathcal D)\)</span> 和 <span class="arithmatex">\(\mathsf{Mor}(\mathcal D)\)</span> 在其上的作用。</p>
<p>现在给定一个拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 的内范畴 <span class="arithmatex">\(\mathbb D\)</span>（参看 [2] 中的定义 8.1.1），记对象的对象为 <span class="arithmatex">\(D_0\)</span>，态射的对象为 <span class="arithmatex">\(D_1\)</span>，一个内基值函子（internal based valued functor）<span class="arithmatex">\(F: \mathbb D \to \mathcal E\)</span> 被定义为有序对 <span class="arithmatex">\((F, \varphi)\)</span> 以及 <span class="arithmatex">\(D_1\)</span> 在 <span class="arithmatex">\(F\)</span> 上的一个作用，其中 <span class="arithmatex">\(\varphi: F \to D_0\)</span>（见 [2] 中的定义 8.2.1）。给出对象 <span class="arithmatex">\(X \in \mathcal E\)</span>，<span class="arithmatex">\(X\)</span> 上的常值内函子就是投影 <span class="arithmatex">\(D_0 \times X \to D_0\)</span> 以及 <span class="arithmatex">\(D_1\)</span> 的恒同作用。很直接地，也可以定义内自然变换并给出一个实际的函子</p>
<div class="arithmatex">\[
\Delta_{\mathbb{D}}: \mathcal E \to [\mathbb D, \mathcal E]
\]</div>
<p>映到内基值函子的范畴上去。（见 [3] 的 8.3 节）</p>
<div class="admonition success">
<p class="admonition-title">命题 4.16</p>
<p>一个初等拓扑斯是内完备、内余完备的，也就是说，上述定义的每个函子 <span class="arithmatex">\(\Delta_{\mathbb{D}}\)</span> 都有右伴随和左伴随。</p>
</div>
<details class="info" open="open">
<summary>证明</summary>
<p>作为一个有趣的练习，读者不妨尝试自行证明，经典的对于集合中的极限和余极限的描述用初等拓扑斯 <span class="arithmatex">\(\mathcal E\)</span> 的内逻辑进行解读就能得到所需的结果。</p>
</details>
<p>现在给定位形 <span class="arithmatex">\((\mathcal C, \mathcal T)\)</span>，如下的复合当然是保有限极限的，因为两个函子都是如此：</p>
<div class="arithmatex">\[
\mathsf{Set} \stackrel {\Delta_{\mathcal C}} \to \mathsf{Psh}(\mathcal C) \stackrel a \to \mathsf{Sh}(\mathcal C, \mathcal T)
\]</div>
<p>其中 <span class="arithmatex">\(a\)</span> 为相应的层函子。它将任意小范畴 <span class="arithmatex">\(\mathcal D\)</span>，即 <span class="arithmatex">\(\mathsf{Set}\)</span> 的任意内范畴转变成了 <span class="arithmatex">\(\mathsf{Sh}(\mathcal C, \mathcal T)\)</span> 的一个内范畴 <span class="arithmatex">\(\mathbb D\)</span>。事实上，是一个相当平凡的内范畴，因为</p>
<div class="arithmatex">\[
D_0 = a \Delta(\mathsf{Ob}(\mathcal D)) = \coprod_{\mathsf{Ob}(\mathcal D)} 1, \quad D_1 = a \Delta(\mathsf{Mor}(\mathcal D)) = \coprod_{\mathsf{Mor}(\mathcal D)} 1
\]</div>
<p>由于在 <span class="arithmatex">\(\mathsf{Set}\)</span> 中就是如此，而且 <span class="arithmatex">\(\Delta\)</span> 和 <span class="arithmatex">\(a\)</span> 都保余极限，因为它们有右伴随。</p>
<p>另外，函子 <span class="arithmatex">\(F: \mathcal D \to \mathsf{Sh}(\mathcal C, \mathcal T)\)</span> 也能直接给出一个内基值函子</p>
<div class="arithmatex">\[
\coprod_{D \in \mathcal D} F(D) \stackrel {\coprod \xi_{\mathcal D}} \longrightarrow \coprod_{\mathsf{Ob}(\mathcal D)} \mathbf 1 \cong D_0
\]</div>
<p>其中 <span class="arithmatex">\(\xi_D: F(D) \to \mathbf 1\)</span>。容易验证，这个内基值函子的内极限或余极限相当于对原函子 <span class="arithmatex">\(F\)</span> 的小极限或余极限的重建。</p>
<p>因此，在一个 Grothendieck 拓扑斯中，小极限和小余极限无非是内极限和内余极限的特例。当然，在 Grothendieck 拓扑斯中，内完备性和内余完备性的性质比小完备性和小余完备性的性质丰富得多。正如命题 4.16 所数，这些更丰富的性质在每个初等拓扑斯中都是成立的。</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>“多产的叉子搅拌黄色的数学。”一个典型的符合语法但是不知所云的句子。——译者注&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>看起来作者在原文中用的是 <code>tipa</code> 包中的 <code>\textopencorner</code> 而不是这里用的 <code>\lceil</code>，译者用 <code>\lceil</code> 代替是因为 KaTeX 没有这玩意。——译者注&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>作者混用了 valid 的两个义项，一个是指公式是良定（或者叫良构，well-formed）的，一个是指公式为真。在这里前者译作合法，后者译作有效。——译者注&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>比利时巧克力在欧洲非常有名，大概相当于在内地说高邮咸鸭蛋……？——译者注&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>原文用的记号是 <span class="arithmatex">\(\mathsf{Pr}(L)\)</span>，这里为了与常用的记号统一起见，使用 <span class="arithmatex">\(\mathsf{Psh}\)</span>，虽然这个记号本来就五花八门。——译者注&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>原文为 <span class="arithmatex">\(\mathsf{Ar}(\mathcal D)\)</span>，修改理由同上。——译者注&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>





  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
        data-repo="frightenedfoxcn/notes"
        data-repo-id="R_kgDOI23RIA"
        data-category="Announcements"
        data-category-id="DIC_kwDOI23RIM4CUEOA"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../01sheaf/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 第一讲 层拓扑斯" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              第一讲 层拓扑斯
            </div>
          </div>
        </a>
      
      
        
        <a href="../06refs/" class="md-footer__link md-footer__link--next" aria-label="下一页: 参考文献" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              参考文献
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"></script>
      
        <script src="../../../js/katex.js"></script>
      
    
  </body>
</html>